(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ho(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ce={},Hs=[],At=()=>{},Oc=()=>!1,oi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ko=t=>t.startsWith("onUpdate:"),Le=Object.assign,Go=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Od=Object.prototype.hasOwnProperty,ae=(t,e)=>Od.call(t,e),J=Array.isArray,Ks=t=>ai(t)==="[object Map]",Rc=t=>ai(t)==="[object Set]",Q=t=>typeof t=="function",Oe=t=>typeof t=="string",os=t=>typeof t=="symbol",pe=t=>t!==null&&typeof t=="object",Tc=t=>(pe(t)||Q(t))&&Q(t.then)&&Q(t.catch),Ac=Object.prototype.toString,ai=t=>Ac.call(t),Rd=t=>ai(t).slice(8,-1),xc=t=>ai(t)==="[object Object]",Jo=t=>Oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ar=Ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),li=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},Td=/-\w/g,lt=li(t=>t.replace(Td,e=>e.slice(1).toUpperCase())),Ad=/\B([A-Z])/g,ks=li(t=>t.replace(Ad,"-$1").toLowerCase()),ci=li(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ti=li(t=>t?`on${ci(t)}`:""),ss=(t,e)=>!Object.is(t,e),Mn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Pc=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},ao=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let $a;const ui=()=>$a||($a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zo(t){if(J(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=Oe(r)?Id(r):zo(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(Oe(t)||pe(t))return t}const xd=/;(?![^(]*\))/g,Pd=/:([^]+)/,Cd=/\/\*[^]*?\*\//g;function Id(t){const e={};return t.replace(Cd,"").split(xd).forEach(s=>{if(s){const r=s.split(Pd);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qr(t){let e="";if(Oe(t))e=t;else if(J(t))for(let s=0;s<t.length;s++){const r=Qr(t[s]);r&&(e+=r+" ")}else if(pe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const jd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$d=Ho(jd);function Cc(t){return!!t||t===""}const Ic=t=>!!(t&&t.__v_isRef===!0),fe=t=>Oe(t)?t:t==null?"":J(t)||pe(t)&&(t.toString===Ac||!Q(t.toString))?Ic(t)?fe(t.value):JSON.stringify(t,jc,2):String(t),jc=(t,e)=>Ic(e)?jc(t,e.value):Ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Ai(r,i)+" =>"]=n,s),{})}:Rc(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Ai(s))}:os(e)?Ai(e):pe(e)&&!J(e)&&!xc(e)?String(e):e,Ai=(t,e="")=>{var s;return os(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class $c{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=je;try{return je=this,e()}finally{je=s}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Nc(t){return new $c(t)}function Mc(){return je}function Nd(t,e=!1){je&&je.cleanups.push(t)}let de;const xi=new WeakSet;class Lc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xi.has(this)&&(xi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Uc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Na(this),Bc(this);const e=de,s=mt;de=this,mt=!0;try{return this.fn()}finally{qc(this),de=e,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yo(e);this.deps=this.depsTail=void 0,Na(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lo(this)&&this.run()}get dirty(){return lo(this)}}let Dc=0,xr,Pr;function Uc(t,e=!1){if(t.flags|=8,e){t.next=Pr,Pr=t;return}t.next=xr,xr=t}function Xo(){Dc++}function Qo(){if(--Dc>0)return;if(Pr){let e=Pr;for(Pr=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;xr;){let e=xr;for(xr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Bc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qc(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Yo(r),Md(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function lo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Fc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Fc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Br)||(t.globalVersion=Br,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!lo(t))))return;t.flags|=2;const e=t.dep,s=de,r=mt;de=t,mt=!0;try{Bc(t);const n=t.fn(t._value);(e.version===0||ss(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{de=s,mt=r,qc(t),t.flags&=-3}}function Yo(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Yo(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Md(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let mt=!0;const Wc=[];function Bt(){Wc.push(mt),mt=!1}function qt(){const t=Wc.pop();mt=t===void 0?!0:t}function Na(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=de;de=void 0;try{e()}finally{de=s}}}let Br=0;class Ld{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!de||!mt||de===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink=new Ld(de,this),de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,Vc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=r)}return s}trigger(e){this.version++,Br++,this.notify(e)}notify(e){Xo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Qo()}}}function Vc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Vc(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Fn=new WeakMap,vs=Symbol(""),co=Symbol(""),qr=Symbol("");function $e(t,e,s){if(mt&&de){let r=Fn.get(t);r||Fn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Zo),n.map=r,n.key=s),n.track()}}function Lt(t,e,s,r,n,i){const o=Fn.get(t);if(!o){Br++;return}const a=l=>{l&&l.trigger()};if(Xo(),e==="clear")o.forEach(a);else{const l=J(t),c=l&&Jo(s);if(l&&s==="length"){const u=Number(r);o.forEach((h,f)=>{(f==="length"||f===qr||!os(f)&&f>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(qr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(vs)),Ks(t)&&a(o.get(co)));break;case"delete":l||(a(o.get(vs)),Ks(t)&&a(o.get(co)));break;case"set":Ks(t)&&a(o.get(vs));break}}Qo()}function Dd(t,e){const s=Fn.get(t);return s&&s.get(e)}function As(t){const e=ne(t);return e===t?e:($e(e,"iterate",qr),ot(t)?e:e.map(Pe))}function hi(t){return $e(t=ne(t),"iterate",qr),t}const Ud={__proto__:null,[Symbol.iterator](){return Pi(this,Symbol.iterator,Pe)},concat(...t){return As(this).concat(...t.map(e=>J(e)?As(e):e))},entries(){return Pi(this,"entries",t=>(t[1]=Pe(t[1]),t))},every(t,e){return Ct(this,"every",t,e,void 0,arguments)},filter(t,e){return Ct(this,"filter",t,e,s=>s.map(Pe),arguments)},find(t,e){return Ct(this,"find",t,e,Pe,arguments)},findIndex(t,e){return Ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ct(this,"findLast",t,e,Pe,arguments)},findLastIndex(t,e){return Ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ci(this,"includes",t)},indexOf(...t){return Ci(this,"indexOf",t)},join(t){return As(this).join(t)},lastIndexOf(...t){return Ci(this,"lastIndexOf",t)},map(t,e){return Ct(this,"map",t,e,void 0,arguments)},pop(){return lr(this,"pop")},push(...t){return lr(this,"push",t)},reduce(t,...e){return Ma(this,"reduce",t,e)},reduceRight(t,...e){return Ma(this,"reduceRight",t,e)},shift(){return lr(this,"shift")},some(t,e){return Ct(this,"some",t,e,void 0,arguments)},splice(...t){return lr(this,"splice",t)},toReversed(){return As(this).toReversed()},toSorted(t){return As(this).toSorted(t)},toSpliced(...t){return As(this).toSpliced(...t)},unshift(...t){return lr(this,"unshift",t)},values(){return Pi(this,"values",Pe)}};function Pi(t,e,s){const r=hi(t),n=r[e]();return r!==t&&!ot(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=s(i.value)),i}),n}const Bd=Array.prototype;function Ct(t,e,s,r,n,i){const o=hi(t),a=o!==t&&!ot(t),l=o[e];if(l!==Bd[e]){const h=l.apply(t,i);return a?Pe(h):h}let c=s;o!==t&&(a?c=function(h,f){return s.call(this,Pe(h),f,t)}:s.length>2&&(c=function(h,f){return s.call(this,h,f,t)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Ma(t,e,s,r){const n=hi(t);let i=s;return n!==t&&(ot(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Pe(a),l,t)}),n[e](i,...r)}function Ci(t,e,s){const r=ne(t);$e(r,"iterate",qr);const n=r[e](...s);return(n===-1||n===!1)&&sa(s[0])?(s[0]=ne(s[0]),r[e](...s)):n}function lr(t,e,s=[]){Bt(),Xo();const r=ne(t)[e].apply(t,s);return Qo(),qt(),r}const qd=Ho("__proto__,__v_isRef,__isVue"),Hc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(os));function Fd(t){os(t)||(t=String(t));const e=ne(this);return $e(e,"has",t),e.hasOwnProperty(t)}class Kc{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Yd:Xc:i?zc:Jc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=J(e);if(!n){let l;if(o&&(l=Ud[s]))return l;if(s==="hasOwnProperty")return Fd}const a=Reflect.get(e,s,ve(e)?e:r);if((os(s)?Hc.has(s):qd(s))||(n||$e(e,"get",s),i))return a;if(ve(a)){const l=o&&Jo(s)?a:a.value;return n&&pe(l)?ho(l):l}return pe(a)?n?ho(a):Yr(a):a}}class Gc extends Kc{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=ns(i);if(!ot(r)&&!ns(r)&&(i=ne(i),r=ne(r)),!J(e)&&ve(i)&&!ve(r))return l||(i.value=r),!0}const o=J(e)&&Jo(s)?Number(s)<e.length:ae(e,s),a=Reflect.set(e,s,r,ve(e)?e:n);return e===ne(n)&&(o?ss(r,i)&&Lt(e,"set",s,r):Lt(e,"add",s,r)),a}deleteProperty(e,s){const r=ae(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Lt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!os(s)||!Hc.has(s))&&$e(e,"has",s),r}ownKeys(e){return $e(e,"iterate",J(e)?"length":vs),Reflect.ownKeys(e)}}class Wd extends Kc{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Vd=new Gc,Hd=new Wd,Kd=new Gc(!0);const uo=t=>t,an=t=>Reflect.getPrototypeOf(t);function Gd(t,e,s){return function(...r){const n=this.__v_raw,i=ne(n),o=Ks(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?uo:e?Wn:Pe;return!e&&$e(i,"iterate",l?co:vs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function ln(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Jd(t,e){const s={get(n){const i=this.__v_raw,o=ne(i),a=ne(n);t||(ss(n,a)&&$e(o,"get",n),$e(o,"get",a));const{has:l}=an(o),c=e?uo:t?Wn:Pe;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&$e(ne(n),"iterate",vs),n.size},has(n){const i=this.__v_raw,o=ne(i),a=ne(n);return t||(ss(n,a)&&$e(o,"has",n),$e(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ne(a),c=e?uo:t?Wn:Pe;return!t&&$e(l,"iterate",vs),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return Le(s,t?{add:ln("add"),set:ln("set"),delete:ln("delete"),clear:ln("clear")}:{add(n){!e&&!ot(n)&&!ns(n)&&(n=ne(n));const i=ne(this);return an(i).has.call(i,n)||(i.add(n),Lt(i,"add",n,n)),this},set(n,i){!e&&!ot(i)&&!ns(i)&&(i=ne(i));const o=ne(this),{has:a,get:l}=an(o);let c=a.call(o,n);c||(n=ne(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?ss(i,u)&&Lt(o,"set",n,i):Lt(o,"add",n,i),this},delete(n){const i=ne(this),{has:o,get:a}=an(i);let l=o.call(i,n);l||(n=ne(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&Lt(i,"delete",n,void 0),c},clear(){const n=ne(this),i=n.size!==0,o=n.clear();return i&&Lt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Gd(n,t,e)}),s}function ea(t,e){const s=Jd(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ae(s,n)&&n in r?s:r,n,i)}const zd={get:ea(!1,!1)},Xd={get:ea(!1,!0)},Qd={get:ea(!0,!1)};const Jc=new WeakMap,zc=new WeakMap,Xc=new WeakMap,Yd=new WeakMap;function Zd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ef(t){return t.__v_skip||!Object.isExtensible(t)?0:Zd(Rd(t))}function Yr(t){return ns(t)?t:ta(t,!1,Vd,zd,Jc)}function Qc(t){return ta(t,!1,Kd,Xd,zc)}function ho(t){return ta(t,!0,Hd,Qd,Xc)}function ta(t,e,s,r,n){if(!pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ef(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function rs(t){return ns(t)?rs(t.__v_raw):!!(t&&t.__v_isReactive)}function ns(t){return!!(t&&t.__v_isReadonly)}function ot(t){return!!(t&&t.__v_isShallow)}function sa(t){return t?!!t.__v_raw:!1}function ne(t){const e=t&&t.__v_raw;return e?ne(e):t}function ra(t){return!ae(t,"__v_skip")&&Object.isExtensible(t)&&Pc(t,"__v_skip",!0),t}const Pe=t=>pe(t)?Yr(t):t,Wn=t=>pe(t)?ho(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function be(t){return Yc(t,!1)}function tf(t){return Yc(t,!0)}function Yc(t,e){return ve(t)?t:new sf(t,e)}class sf{constructor(e,s){this.dep=new Zo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ne(e),this._value=s?e:Pe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||ot(e)||ns(e);e=r?e:ne(e),ss(e,s)&&(this._rawValue=e,this._value=r?e:Pe(e),this.dep.trigger())}}function Ss(t){return ve(t)?t.value:t}const rf={get:(t,e,s)=>e==="__v_raw"?t:Ss(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ve(n)&&!ve(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Zc(t){return rs(t)?t:new Proxy(t,rf)}function nf(t){const e=J(t)?new Array(t.length):{};for(const s in t)e[s]=af(t,s);return e}class of{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Dd(ne(this._object),this._key)}}function af(t,e,s){const r=t[e];return ve(r)?r:new of(t,e,s)}class lf{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Zo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Br-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return Uc(this,!0),!0}get value(){const e=this.dep.track();return Fc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function cf(t,e,s=!1){let r,n;return Q(t)?r=t:(r=t.get,n=t.set),new lf(r,n,s)}const cn={},Vn=new WeakMap;let ps;function uf(t,e=!1,s=ps){if(s){let r=Vn.get(s);r||Vn.set(s,r=[]),r.push(t)}}function hf(t,e,s=ce){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=k=>n?k:ot(k)||n===!1||n===0?Dt(k,1):Dt(k);let u,h,f,d,m=!1,w=!1;if(ve(t)?(h=()=>t.value,m=ot(t)):rs(t)?(h=()=>c(t),m=!0):J(t)?(w=!0,m=t.some(k=>rs(k)||ot(k)),h=()=>t.map(k=>{if(ve(k))return k.value;if(rs(k))return c(k);if(Q(k))return l?l(k,2):k()})):Q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Bt();try{f()}finally{qt()}}const k=ps;ps=u;try{return l?l(t,3,[d]):t(d)}finally{ps=k}}:h=At,e&&n){const k=h,C=n===!0?1/0:n;h=()=>Dt(k(),C)}const S=Mc(),E=()=>{u.stop(),S&&S.active&&Go(S.effects,u)};if(i&&e){const k=e;e=(...C)=>{k(...C),E()}}let _=w?new Array(t.length).fill(cn):cn;const b=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const C=u.run();if(n||m||(w?C.some((L,q)=>ss(L,_[q])):ss(C,_))){f&&f();const L=ps;ps=u;try{const q=[C,_===cn?void 0:w&&_[0]===cn?[]:_,d];_=C,l?l(e,3,q):e(...q)}finally{ps=L}}}else u.run()};return a&&a(b),u=new Lc(h),u.scheduler=o?()=>o(b,!1):b,d=k=>uf(k,!1,u),f=u.onStop=()=>{const k=Vn.get(u);if(k){if(l)l(k,4);else for(const C of k)C();Vn.delete(u)}},e?r?b(!0):_=u.run():o?o(b.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Dt(t,e=1/0,s){if(e<=0||!pe(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,ve(t))Dt(t.value,e,s);else if(J(t))for(let r=0;r<t.length;r++)Dt(t[r],e,s);else if(Rc(t)||Ks(t))t.forEach(r=>{Dt(r,e,s)});else if(xc(t)){for(const r in t)Dt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Dt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zr(t,e,s,r){try{return r?t(...r):t()}catch(n){di(n,e,s)}}function xt(t,e,s,r){if(Q(t)){const n=Zr(t,e,s,r);return n&&Tc(n)&&n.catch(i=>{di(i,e,s)}),n}if(J(t)){const n=[];for(let i=0;i<t.length;i++)n.push(xt(t[i],e,s,r));return n}}function di(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ce;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){Bt(),Zr(i,null,10,[t,l,c]),qt();return}}df(t,s,n,r,o)}function df(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Fe=[];let Ot=-1;const Gs=[];let Yt=null,Ds=0;const eu=Promise.resolve();let Hn=null;function na(t){const e=Hn||eu;return t?e.then(this?t.bind(this):t):e}function ff(t){let e=Ot+1,s=Fe.length;for(;e<s;){const r=e+s>>>1,n=Fe[r],i=Fr(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ia(t){if(!(t.flags&1)){const e=Fr(t),s=Fe[Fe.length-1];!s||!(t.flags&2)&&e>=Fr(s)?Fe.push(t):Fe.splice(ff(e),0,t),t.flags|=1,tu()}}function tu(){Hn||(Hn=eu.then(ru))}function pf(t){J(t)?Gs.push(...t):Yt&&t.id===-1?Yt.splice(Ds+1,0,t):t.flags&1||(Gs.push(t),t.flags|=1),tu()}function La(t,e,s=Ot+1){for(;s<Fe.length;s++){const r=Fe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Fe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function su(t){if(Gs.length){const e=[...new Set(Gs)].sort((s,r)=>Fr(s)-Fr(r));if(Gs.length=0,Yt){Yt.push(...e);return}for(Yt=e,Ds=0;Ds<Yt.length;Ds++){const s=Yt[Ds];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Yt=null,Ds=0}}const Fr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ru(t){try{for(Ot=0;Ot<Fe.length;Ot++){const e=Fe[Ot];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Zr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ot<Fe.length;Ot++){const e=Fe[Ot];e&&(e.flags&=-2)}Ot=-1,Fe.length=0,su(),Hn=null,(Fe.length||Gs.length)&&ru()}}let et=null,nu=null;function Kn(t){const e=et;return et=t,nu=t&&t.type.__scopeId||null,e}function gf(t,e=et,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&zn(-1);const i=Kn(e);let o;try{o=t(...n)}finally{Kn(i),r._d&&zn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function mf(t,e){if(et===null)return t;const s=_i(et),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ce]=e[n];i&&(Q(i)&&(i={mounted:i,updated:i}),i.deep&&Dt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function cs(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Bt(),xt(l,s,8,[t.el,a,t,e]),qt())}}const _f=Symbol("_vte"),yf=t=>t.__isTeleport,wf=Symbol("_leaveCb");function oa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,oa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function iu(t,e){return Q(t)?Le({name:t.name},e,{setup:t}):t}function ou(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Gn=new WeakMap;function Cr(t,e,s,r,n=!1){if(J(t)){t.forEach((m,w)=>Cr(m,e&&(J(e)?e[w]:e),s,r,n));return}if(Ir(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Cr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?_i(r.component):r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ce?a.refs={}:a.refs,h=a.setupState,f=ne(h),d=h===ce?Oc:m=>ae(f,m);if(c!=null&&c!==l){if(Da(e),Oe(c))u[c]=null,d(c)&&(h[c]=null);else if(ve(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(Q(l))Zr(l,a,12,[o,u]);else{const m=Oe(l),w=ve(l);if(m||w){const S=()=>{if(t.f){const E=m?d(l)?h[l]:u[l]:l.value;if(n)J(E)&&Go(E,i);else if(J(E))E.includes(i)||E.push(i);else if(m)u[l]=[i],d(l)&&(h[l]=u[l]);else{const _=[i];l.value=_,t.k&&(u[t.k]=_)}}else m?(u[l]=o,d(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const E=()=>{S(),Gn.delete(t)};E.id=-1,Gn.set(t,E),Xe(E,s)}else Da(t),S()}}}function Da(t){const e=Gn.get(t);e&&(e.flags|=8,Gn.delete(t))}ui().requestIdleCallback;ui().cancelIdleCallback;const Ir=t=>!!t.type.__asyncLoader,au=t=>t.type.__isKeepAlive;function bf(t,e){lu(t,"a",e)}function vf(t,e){lu(t,"da",e)}function lu(t,e,s=Ne){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(fi(e,r,s),s){let n=s.parent;for(;n&&n.parent;)au(n.parent.vnode)&&Sf(r,e,s,n),n=n.parent}}function Sf(t,e,s,r){const n=fi(e,t,r,!0);aa(()=>{Go(r[e],n)},s)}function fi(t,e,s=Ne,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Bt();const a=en(s),l=xt(e,s,t,o);return a(),qt(),l});return r?n.unshift(i):n.push(i),i}}const Ft=t=>(e,s=Ne)=>{(!Hr||t==="sp")&&fi(t,(...r)=>e(...r),s)},Ef=Ft("bm"),pi=Ft("m"),kf=Ft("bu"),Of=Ft("u"),Rf=Ft("bum"),aa=Ft("um"),Tf=Ft("sp"),Af=Ft("rtg"),xf=Ft("rtc");function Pf(t,e=Ne){fi("ec",t,e)}const Cf="components";function If(t,e){return $f(Cf,t,!0,e)||t}const jf=Symbol.for("v-ndc");function $f(t,e,s=!0,r=!1){const n=et||Ne;if(n){const i=n.type;{const a=Sp(i,!1);if(a&&(a===e||a===lt(e)||a===ci(lt(e))))return i}const o=Ua(n[t]||i[t],e)||Ua(n.appContext[t],e);return!o&&r?i:o}}function Ua(t,e){return t&&(t[e]||t[lt(e)]||t[ci(lt(e))])}function cu(t,e,s,r){let n;const i=s,o=J(t);if(o||Oe(t)){const a=o&&rs(t);let l=!1,c=!1;a&&(l=!ot(t),c=ns(t),t=hi(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?Wn(Pe(t[u])):Pe(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(pe(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}const fo=t=>t?Cu(t)?_i(t):fo(t.parent):null,jr=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fo(t.parent),$root:t=>fo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>hu(t),$forceUpdate:t=>t.f||(t.f=()=>{ia(t.update)}),$nextTick:t=>t.n||(t.n=na.bind(t.proxy)),$watch:t=>sp.bind(t)}),Ii=(t,e)=>t!==ce&&!t.__isScriptSetup&&ae(t,e),Nf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Ii(r,e))return o[e]=1,r[e];if(n!==ce&&ae(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&ae(c,e))return o[e]=3,i[e];if(s!==ce&&ae(s,e))return o[e]=4,s[e];po&&(o[e]=0)}}const u=jr[e];let h,f;if(u)return e==="$attrs"&&$e(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ce&&ae(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,ae(f,e))return f[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Ii(n,e)?(n[e]=s,!0):r!==ce&&ae(r,e)?(r[e]=s,!0):ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i,type:o}},a){let l,c;return!!(s[a]||t!==ce&&a[0]!=="$"&&ae(t,a)||Ii(e,a)||(l=i[0])&&ae(l,a)||ae(r,a)||ae(jr,a)||ae(n.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ae(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ba(t){return J(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let po=!0;function Mf(t){const e=hu(t),s=t.proxy,r=t.ctx;po=!1,e.beforeCreate&&qa(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:m,activated:w,deactivated:S,beforeDestroy:E,beforeUnmount:_,destroyed:b,unmounted:k,render:C,renderTracked:L,renderTriggered:q,errorCaptured:G,serverPrefetch:F,expose:re,inheritAttrs:Se,components:me,directives:Te,filters:wt}=e;if(c&&Lf(c,r,null),o)for(const Y in o){const ie=o[Y];Q(ie)&&(r[Y]=ie.bind(s))}if(n){const Y=n.call(s,s);pe(Y)&&(t.data=Yr(Y))}if(po=!0,i)for(const Y in i){const ie=i[Y],Pt=Q(ie)?ie.bind(s,s):Q(ie.get)?ie.get.bind(s,s):At,Vt=!Q(ie)&&Q(ie.set)?ie.set.bind(s):At,bt=Me({get:Pt,set:Vt});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>bt.value,set:We=>bt.value=We})}if(a)for(const Y in a)uu(a[Y],r,s,Y);if(l){const Y=Q(l)?l.call(s):l;Reflect.ownKeys(Y).forEach(ie=>{Ln(ie,Y[ie])})}u&&qa(u,t,"c");function ge(Y,ie){J(ie)?ie.forEach(Pt=>Y(Pt.bind(s))):ie&&Y(ie.bind(s))}if(ge(Ef,h),ge(pi,f),ge(kf,d),ge(Of,m),ge(bf,w),ge(vf,S),ge(Pf,G),ge(xf,L),ge(Af,q),ge(Rf,_),ge(aa,k),ge(Tf,F),J(re))if(re.length){const Y=t.exposed||(t.exposed={});re.forEach(ie=>{Object.defineProperty(Y,ie,{get:()=>s[ie],set:Pt=>s[ie]=Pt,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===At&&(t.render=C),Se!=null&&(t.inheritAttrs=Se),me&&(t.components=me),Te&&(t.directives=Te),F&&ou(t)}function Lf(t,e,s=At){J(t)&&(t=go(t));for(const r in t){const n=t[r];let i;pe(n)?"default"in n?i=at(n.from||r,n.default,!0):i=at(n.from||r):i=at(n),ve(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function qa(t,e,s){xt(J(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function uu(t,e,s,r){let n=r.includes(".")?ku(s,r):()=>s[r];if(Oe(t)){const i=e[t];Q(i)&&Js(n,i)}else if(Q(t))Js(n,t.bind(s));else if(pe(t))if(J(t))t.forEach(i=>uu(i,e,s,r));else{const i=Q(t.handler)?t.handler.bind(s):e[t.handler];Q(i)&&Js(n,i,t)}}function hu(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>Jn(l,c,o,!0)),Jn(l,e,o)),pe(e)&&i.set(e,l),l}function Jn(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Jn(t,i,s,!0),n&&n.forEach(o=>Jn(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Df[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Df={data:Fa,props:Wa,emits:Wa,methods:kr,computed:kr,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:kr,directives:kr,watch:Bf,provide:Fa,inject:Uf};function Fa(t,e){return e?t?function(){return Le(Q(t)?t.call(this,this):t,Q(e)?e.call(this,this):e)}:e:t}function Uf(t,e){return kr(go(t),go(e))}function go(t){if(J(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ue(t,e){return t?[...new Set([].concat(t,e))]:e}function kr(t,e){return t?Le(Object.create(null),t,e):e}function Wa(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:Le(Object.create(null),Ba(t),Ba(e??{})):e}function Bf(t,e){if(!t)return e;if(!e)return t;const s=Le(Object.create(null),t);for(const r in e)s[r]=Ue(t[r],e[r]);return s}function du(){return{app:null,config:{isNativeTag:Oc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qf=0;function Ff(t,e){return function(r,n=null){Q(r)||(r=Le({},r)),n!=null&&!pe(n)&&(n=null);const i=du(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:qf++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:kp,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&Q(u.install)?(o.add(u),u.install(c,...h)):Q(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,f){if(!l){const d=c._ceVNode||st(r,n);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(d,u,f),l=!0,c._container=u,u.__vue_app__=c,_i(d.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Es;Es=c;try{return u()}finally{Es=h}}};return c}}let Es=null;function Ln(t,e){if(Ne){let s=Ne.provides;const r=Ne.parent&&Ne.parent.provides;r===s&&(s=Ne.provides=Object.create(r)),s[t]=e}}function at(t,e,s=!1){const r=Pu();if(r||Es){let n=Es?Es._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&Q(e)?e.call(r&&r.proxy):e}}function Wf(){return!!(Pu()||Es)}const fu={},pu=()=>Object.create(fu),gu=t=>Object.getPrototypeOf(t)===fu;function Vf(t,e,s,r=!1){const n={},i=pu();t.propsDefaults=Object.create(null),mu(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Qc(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Hf(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=ne(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(gi(t.emitsOptions,f))continue;const d=e[f];if(l)if(ae(i,f))d!==i[f]&&(i[f]=d,c=!0);else{const m=lt(f);n[m]=mo(l,a,m,d,t,!1)}else d!==i[f]&&(i[f]=d,c=!0)}}}else{mu(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!ae(e,h)&&((u=ks(h))===h||!ae(e,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=mo(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!ae(e,h))&&(delete i[h],c=!0)}c&&Lt(t.attrs,"set","")}function mu(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ar(l))continue;const c=e[l];let u;n&&ae(n,u=lt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:gi(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=ne(s),c=a||ce;for(let u=0;u<i.length;u++){const h=i[u];s[h]=mo(n,l,h,c[h],t,!ae(c,h))}}return o}function mo(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ae(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Q(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=en(n);r=c[s]=l.call(null,e),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ks(s))&&(r=!0))}return r}const Kf=new WeakMap;function _u(t,e,s=!1){const r=s?Kf:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!Q(t)){const u=h=>{l=!0;const[f,d]=_u(h,e,!0);Le(o,f),d&&a.push(...d)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return pe(t)&&r.set(t,Hs),Hs;if(J(i))for(let u=0;u<i.length;u++){const h=lt(i[u]);Va(h)&&(o[h]=ce)}else if(i)for(const u in i){const h=lt(u);if(Va(h)){const f=i[u],d=o[h]=J(f)||Q(f)?{type:f}:Le({},f),m=d.type;let w=!1,S=!0;if(J(m))for(let E=0;E<m.length;++E){const _=m[E],b=Q(_)&&_.name;if(b==="Boolean"){w=!0;break}else b==="String"&&(S=!1)}else w=Q(m)&&m.name==="Boolean";d[0]=w,d[1]=S,(w||ae(d,"default"))&&a.push(h)}}const c=[o,a];return pe(t)&&r.set(t,c),c}function Va(t){return t[0]!=="$"&&!Ar(t)}const la=t=>t==="_"||t==="_ctx"||t==="$stable",ca=t=>J(t)?t.map(Rt):[Rt(t)],Gf=(t,e,s)=>{if(e._n)return e;const r=gf((...n)=>ca(e(...n)),s);return r._c=!1,r},yu=(t,e,s)=>{const r=t._ctx;for(const n in t){if(la(n))continue;const i=t[n];if(Q(i))e[n]=Gf(n,i,r);else if(i!=null){const o=ca(i);e[n]=()=>o}}},wu=(t,e)=>{const s=ca(e);t.slots.default=()=>s},bu=(t,e,s)=>{for(const r in e)(s||!la(r))&&(t[r]=e[r])},Jf=(t,e,s)=>{const r=t.slots=pu();if(t.vnode.shapeFlag&32){const n=e._;n?(bu(r,e,s),s&&Pc(r,"_",n,!0)):yu(e,r)}else e&&wu(t,e)},zf=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ce;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:bu(n,e,s):(i=!e.$stable,yu(e,n)),o=e}else e&&(wu(t,e),o={default:1});if(i)for(const a in n)!la(a)&&o[a]==null&&delete n[a]},Xe=up;function Xf(t){return Qf(t)}function Qf(t,e){const s=ui();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=At,insertStaticContent:m}=t,w=(p,g,y,R=null,A=null,O=null,$=void 0,I=null,P=!!g.dynamicChildren)=>{if(p===g)return;p&&!cr(p,g)&&(R=T(p),We(p,A,O,!0),p=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:x,ref:K,shapeFlag:M}=g;switch(x){case mi:S(p,g,y,R);break;case is:E(p,g,y,R);break;case $i:p==null&&_(g,y,R,$);break;case pt:me(p,g,y,R,A,O,$,I,P);break;default:M&1?C(p,g,y,R,A,O,$,I,P):M&6?Te(p,g,y,R,A,O,$,I,P):(M&64||M&128)&&x.process(p,g,y,R,A,O,$,I,P,W)}K!=null&&A?Cr(K,p&&p.ref,O,g||p,!g):K==null&&p&&p.ref!=null&&Cr(p.ref,null,O,p,!0)},S=(p,g,y,R)=>{if(p==null)r(g.el=a(g.children),y,R);else{const A=g.el=p.el;g.children!==p.children&&c(A,g.children)}},E=(p,g,y,R)=>{p==null?r(g.el=l(g.children||""),y,R):g.el=p.el},_=(p,g,y,R)=>{[p.el,p.anchor]=m(p.children,g,y,R,p.el,p.anchor)},b=({el:p,anchor:g},y,R)=>{let A;for(;p&&p!==g;)A=f(p),r(p,y,R),p=A;r(g,y,R)},k=({el:p,anchor:g})=>{let y;for(;p&&p!==g;)y=f(p),n(p),p=y;n(g)},C=(p,g,y,R,A,O,$,I,P)=>{g.type==="svg"?$="svg":g.type==="math"&&($="mathml"),p==null?L(g,y,R,A,O,$,I,P):F(p,g,A,O,$,I,P)},L=(p,g,y,R,A,O,$,I)=>{let P,x;const{props:K,shapeFlag:M,transition:V,dirs:z}=p;if(P=p.el=o(p.type,O,K&&K.is,K),M&8?u(P,p.children):M&16&&G(p.children,P,null,R,A,ji(p,O),$,I),z&&cs(p,null,R,"created"),q(P,p,p.scopeId,$,R),K){for(const ue in K)ue!=="value"&&!Ar(ue)&&i(P,ue,null,K[ue],O,R);"value"in K&&i(P,"value",null,K.value,O),(x=K.onVnodeBeforeMount)&&kt(x,R,p)}z&&cs(p,null,R,"beforeMount");const te=Yf(A,V);te&&V.beforeEnter(P),r(P,g,y),((x=K&&K.onVnodeMounted)||te||z)&&Xe(()=>{x&&kt(x,R,p),te&&V.enter(P),z&&cs(p,null,R,"mounted")},A)},q=(p,g,y,R,A)=>{if(y&&d(p,y),R)for(let O=0;O<R.length;O++)d(p,R[O]);if(A){let O=A.subTree;if(g===O||Ru(O.type)&&(O.ssContent===g||O.ssFallback===g)){const $=A.vnode;q(p,$,$.scopeId,$.slotScopeIds,A.parent)}}},G=(p,g,y,R,A,O,$,I,P=0)=>{for(let x=P;x<p.length;x++){const K=p[x]=I?Zt(p[x]):Rt(p[x]);w(null,K,g,y,R,A,O,$,I)}},F=(p,g,y,R,A,O,$)=>{const I=g.el=p.el;let{patchFlag:P,dynamicChildren:x,dirs:K}=g;P|=p.patchFlag&16;const M=p.props||ce,V=g.props||ce;let z;if(y&&us(y,!1),(z=V.onVnodeBeforeUpdate)&&kt(z,y,g,p),K&&cs(g,p,y,"beforeUpdate"),y&&us(y,!0),(M.innerHTML&&V.innerHTML==null||M.textContent&&V.textContent==null)&&u(I,""),x?re(p.dynamicChildren,x,I,y,R,ji(g,A),O):$||ie(p,g,I,null,y,R,ji(g,A),O,!1),P>0){if(P&16)Se(I,M,V,y,A);else if(P&2&&M.class!==V.class&&i(I,"class",null,V.class,A),P&4&&i(I,"style",M.style,V.style,A),P&8){const te=g.dynamicProps;for(let ue=0;ue<te.length;ue++){const le=te[ue],Ve=M[le],He=V[le];(He!==Ve||le==="value")&&i(I,le,Ve,He,A,y)}}P&1&&p.children!==g.children&&u(I,g.children)}else!$&&x==null&&Se(I,M,V,y,A);((z=V.onVnodeUpdated)||K)&&Xe(()=>{z&&kt(z,y,g,p),K&&cs(g,p,y,"updated")},R)},re=(p,g,y,R,A,O,$)=>{for(let I=0;I<g.length;I++){const P=p[I],x=g[I],K=P.el&&(P.type===pt||!cr(P,x)||P.shapeFlag&198)?h(P.el):y;w(P,x,K,null,R,A,O,$,!0)}},Se=(p,g,y,R,A)=>{if(g!==y){if(g!==ce)for(const O in g)!Ar(O)&&!(O in y)&&i(p,O,g[O],null,A,R);for(const O in y){if(Ar(O))continue;const $=y[O],I=g[O];$!==I&&O!=="value"&&i(p,O,I,$,A,R)}"value"in y&&i(p,"value",g.value,y.value,A)}},me=(p,g,y,R,A,O,$,I,P)=>{const x=g.el=p?p.el:a(""),K=g.anchor=p?p.anchor:a("");let{patchFlag:M,dynamicChildren:V,slotScopeIds:z}=g;z&&(I=I?I.concat(z):z),p==null?(r(x,y,R),r(K,y,R),G(g.children||[],y,K,A,O,$,I,P)):M>0&&M&64&&V&&p.dynamicChildren?(re(p.dynamicChildren,V,y,A,O,$,I),(g.key!=null||A&&g===A.subTree)&&vu(p,g,!0)):ie(p,g,y,K,A,O,$,I,P)},Te=(p,g,y,R,A,O,$,I,P)=>{g.slotScopeIds=I,p==null?g.shapeFlag&512?A.ctx.activate(g,y,R,$,P):wt(g,y,R,A,O,$,P):Wt(p,g,P)},wt=(p,g,y,R,A,O,$)=>{const I=p.component=_p(p,R,A);if(au(p)&&(I.ctx.renderer=W),yp(I,!1,$),I.asyncDep){if(A&&A.registerDep(I,ge,$),!p.el){const P=I.subTree=st(is);E(null,P,g,y),p.placeholder=P.el}}else ge(I,p,g,y,A,O,$)},Wt=(p,g,y)=>{const R=g.component=p.component;if(lp(p,g,y))if(R.asyncDep&&!R.asyncResolved){Y(R,g,y);return}else R.next=g,R.update();else g.el=p.el,R.vnode=g},ge=(p,g,y,R,A,O,$)=>{const I=()=>{if(p.isMounted){let{next:M,bu:V,u:z,parent:te,vnode:ue}=p;{const St=Su(p);if(St){M&&(M.el=ue.el,Y(p,M,$)),St.asyncDep.then(()=>{p.isUnmounted||I()});return}}let le=M,Ve;us(p,!1),M?(M.el=ue.el,Y(p,M,$)):M=ue,V&&Mn(V),(Ve=M.props&&M.props.onVnodeBeforeUpdate)&&kt(Ve,te,M,ue),us(p,!0);const He=Ka(p),vt=p.subTree;p.subTree=He,w(vt,He,h(vt.el),T(vt),p,A,O),M.el=He.el,le===null&&cp(p,He.el),z&&Xe(z,A),(Ve=M.props&&M.props.onVnodeUpdated)&&Xe(()=>kt(Ve,te,M,ue),A)}else{let M;const{el:V,props:z}=g,{bm:te,m:ue,parent:le,root:Ve,type:He}=p,vt=Ir(g);us(p,!1),te&&Mn(te),!vt&&(M=z&&z.onVnodeBeforeMount)&&kt(M,le,g),us(p,!0);{Ve.ce&&Ve.ce._def.shadowRoot!==!1&&Ve.ce._injectChildStyle(He);const St=p.subTree=Ka(p);w(null,St,y,R,p,A,O),g.el=St.el}if(ue&&Xe(ue,A),!vt&&(M=z&&z.onVnodeMounted)){const St=g;Xe(()=>kt(M,le,St),A)}(g.shapeFlag&256||le&&Ir(le.vnode)&&le.vnode.shapeFlag&256)&&p.a&&Xe(p.a,A),p.isMounted=!0,g=y=R=null}};p.scope.on();const P=p.effect=new Lc(I);p.scope.off();const x=p.update=P.run.bind(P),K=p.job=P.runIfDirty.bind(P);K.i=p,K.id=p.uid,P.scheduler=()=>ia(K),us(p,!0),x()},Y=(p,g,y)=>{g.component=p;const R=p.vnode.props;p.vnode=g,p.next=null,Hf(p,g.props,R,y),zf(p,g.children,y),Bt(),La(p),qt()},ie=(p,g,y,R,A,O,$,I,P=!1)=>{const x=p&&p.children,K=p?p.shapeFlag:0,M=g.children,{patchFlag:V,shapeFlag:z}=g;if(V>0){if(V&128){Vt(x,M,y,R,A,O,$,I,P);return}else if(V&256){Pt(x,M,y,R,A,O,$,I,P);return}}z&8?(K&16&&rt(x,A,O),M!==x&&u(y,M)):K&16?z&16?Vt(x,M,y,R,A,O,$,I,P):rt(x,A,O,!0):(K&8&&u(y,""),z&16&&G(M,y,R,A,O,$,I,P))},Pt=(p,g,y,R,A,O,$,I,P)=>{p=p||Hs,g=g||Hs;const x=p.length,K=g.length,M=Math.min(x,K);let V;for(V=0;V<M;V++){const z=g[V]=P?Zt(g[V]):Rt(g[V]);w(p[V],z,y,null,A,O,$,I,P)}x>K?rt(p,A,O,!0,!1,M):G(g,y,R,A,O,$,I,P,M)},Vt=(p,g,y,R,A,O,$,I,P)=>{let x=0;const K=g.length;let M=p.length-1,V=K-1;for(;x<=M&&x<=V;){const z=p[x],te=g[x]=P?Zt(g[x]):Rt(g[x]);if(cr(z,te))w(z,te,y,null,A,O,$,I,P);else break;x++}for(;x<=M&&x<=V;){const z=p[M],te=g[V]=P?Zt(g[V]):Rt(g[V]);if(cr(z,te))w(z,te,y,null,A,O,$,I,P);else break;M--,V--}if(x>M){if(x<=V){const z=V+1,te=z<K?g[z].el:R;for(;x<=V;)w(null,g[x]=P?Zt(g[x]):Rt(g[x]),y,te,A,O,$,I,P),x++}}else if(x>V)for(;x<=M;)We(p[x],A,O,!0),x++;else{const z=x,te=x,ue=new Map;for(x=te;x<=V;x++){const Ge=g[x]=P?Zt(g[x]):Rt(g[x]);Ge.key!=null&&ue.set(Ge.key,x)}let le,Ve=0;const He=V-te+1;let vt=!1,St=0;const ar=new Array(He);for(x=0;x<He;x++)ar[x]=0;for(x=z;x<=M;x++){const Ge=p[x];if(Ve>=He){We(Ge,A,O,!0);continue}let Et;if(Ge.key!=null)Et=ue.get(Ge.key);else for(le=te;le<=V;le++)if(ar[le-te]===0&&cr(Ge,g[le])){Et=le;break}Et===void 0?We(Ge,A,O,!0):(ar[Et-te]=x+1,Et>=St?St=Et:vt=!0,w(Ge,g[Et],y,null,A,O,$,I,P),Ve++)}const Ca=vt?Zf(ar):Hs;for(le=Ca.length-1,x=He-1;x>=0;x--){const Ge=te+x,Et=g[Ge],Ia=g[Ge+1],ja=Ge+1<K?Ia.el||Ia.placeholder:R;ar[x]===0?w(null,Et,y,ja,A,O,$,I,P):vt&&(le<0||x!==Ca[le]?bt(Et,y,ja,2):le--)}}},bt=(p,g,y,R,A=null)=>{const{el:O,type:$,transition:I,children:P,shapeFlag:x}=p;if(x&6){bt(p.component.subTree,g,y,R);return}if(x&128){p.suspense.move(g,y,R);return}if(x&64){$.move(p,g,y,W);return}if($===pt){r(O,g,y);for(let M=0;M<P.length;M++)bt(P[M],g,y,R);r(p.anchor,g,y);return}if($===$i){b(p,g,y);return}if(R!==2&&x&1&&I)if(R===0)I.beforeEnter(O),r(O,g,y),Xe(()=>I.enter(O),A);else{const{leave:M,delayLeave:V,afterLeave:z}=I,te=()=>{p.ctx.isUnmounted?n(O):r(O,g,y)},ue=()=>{O._isLeaving&&O[wf](!0),M(O,()=>{te(),z&&z()})};V?V(O,te,ue):ue()}else r(O,g,y)},We=(p,g,y,R=!1,A=!1)=>{const{type:O,props:$,ref:I,children:P,dynamicChildren:x,shapeFlag:K,patchFlag:M,dirs:V,cacheIndex:z}=p;if(M===-2&&(A=!1),I!=null&&(Bt(),Cr(I,null,y,p,!0),qt()),z!=null&&(g.renderCache[z]=void 0),K&256){g.ctx.deactivate(p);return}const te=K&1&&V,ue=!Ir(p);let le;if(ue&&(le=$&&$.onVnodeBeforeUnmount)&&kt(le,g,p),K&6)ls(p.component,y,R);else{if(K&128){p.suspense.unmount(y,R);return}te&&cs(p,null,g,"beforeUnmount"),K&64?p.type.remove(p,g,y,W,R):x&&!x.hasOnce&&(O!==pt||M>0&&M&64)?rt(x,g,y,!1,!0):(O===pt&&M&384||!A&&K&16)&&rt(P,g,y),R&&Rs(p)}(ue&&(le=$&&$.onVnodeUnmounted)||te)&&Xe(()=>{le&&kt(le,g,p),te&&cs(p,null,g,"unmounted")},y)},Rs=p=>{const{type:g,el:y,anchor:R,transition:A}=p;if(g===pt){Ts(y,R);return}if(g===$i){k(p);return}const O=()=>{n(y),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:$,delayLeave:I}=A,P=()=>$(y,O);I?I(p.el,O,P):P()}else O()},Ts=(p,g)=>{let y;for(;p!==g;)y=f(p),n(p),p=y;n(g)},ls=(p,g,y)=>{const{bum:R,scope:A,job:O,subTree:$,um:I,m:P,a:x}=p;Ha(P),Ha(x),R&&Mn(R),A.stop(),O&&(O.flags|=8,We($,p,g,y)),I&&Xe(I,g),Xe(()=>{p.isUnmounted=!0},g)},rt=(p,g,y,R=!1,A=!1,O=0)=>{for(let $=O;$<p.length;$++)We(p[$],g,y,R,A)},T=p=>{if(p.shapeFlag&6)return T(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),y=g&&g[_f];return y?f(y):g};let D=!1;const N=(p,g,y)=>{p==null?g._vnode&&We(g._vnode,null,null,!0):w(g._vnode||null,p,g,null,null,null,y),g._vnode=p,D||(D=!0,La(),su(),D=!1)},W={p:w,um:We,m:bt,r:Rs,mt:wt,mc:G,pc:ie,pbc:re,n:T,o:t};return{render:N,hydrate:void 0,createApp:Ff(N)}}function ji({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function us({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Yf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function vu(t,e,s=!1){const r=t.children,n=e.children;if(J(r)&&J(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Zt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&vu(o,a)),a.type===mi&&a.patchFlag!==-1&&(a.el=o.el),a.type===is&&!a.el&&(a.el=o.el)}}function Zf(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Su(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Su(e)}function Ha(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ep=Symbol.for("v-scx"),tp=()=>at(ep);function Js(t,e,s){return Eu(t,e,s)}function Eu(t,e,s=ce){const{immediate:r,deep:n,flush:i,once:o}=s,a=Le({},s),l=e&&r||!e&&i!=="post";let c;if(Hr){if(i==="sync"){const d=tp();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=At,d.resume=At,d.pause=At,d}}const u=Ne;a.call=(d,m,w)=>xt(d,u,m,w);let h=!1;i==="post"?a.scheduler=d=>{Xe(d,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(d,m)=>{m?d():ia(d)}),a.augmentJob=d=>{e&&(d.flags|=4),h&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=hf(t,e,a);return Hr&&(c?c.push(f):l&&f()),f}function sp(t,e,s){const r=this.proxy,n=Oe(t)?t.includes(".")?ku(r,t):()=>r[t]:t.bind(r,r);let i;Q(e)?i=e:(i=e.handler,s=e);const o=en(this),a=Eu(n,i.bind(r),s);return o(),a}function ku(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const rp=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${lt(e)}Modifiers`]||t[`${ks(e)}Modifiers`];function np(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ce;let n=s;const i=e.startsWith("update:"),o=i&&rp(r,e.slice(7));o&&(o.trim&&(n=s.map(u=>Oe(u)?u.trim():u)),o.number&&(n=s.map(ao)));let a,l=r[a=Ti(e)]||r[a=Ti(lt(e))];!l&&i&&(l=r[a=Ti(ks(e))]),l&&xt(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xt(c,t,6,n)}}const ip=new WeakMap;function Ou(t,e,s=!1){const r=s?ip:e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!Q(t)){const l=c=>{const u=Ou(c,e,!0);u&&(a=!0,Le(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(pe(t)&&r.set(t,null),null):(J(i)?i.forEach(l=>o[l]=null):Le(o,i),pe(t)&&r.set(t,o),o)}function gi(t,e){return!t||!oi(e)?!1:(e=e.slice(2).replace(/Once$/,""),ae(t,e[0].toLowerCase()+e.slice(1))||ae(t,ks(e))||ae(t,e))}function Ka(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:d,ctx:m,inheritAttrs:w}=t,S=Kn(t);let E,_;try{if(s.shapeFlag&4){const k=n||r,C=k;E=Rt(c.call(C,k,u,h,d,f,m)),_=a}else{const k=e;E=Rt(k.length>1?k(h,{attrs:a,slots:o,emit:l}):k(h,null)),_=e.props?a:op(a)}}catch(k){$r.length=0,di(k,t,1),E=st(is)}let b=E;if(_&&w!==!1){const k=Object.keys(_),{shapeFlag:C}=b;k.length&&C&7&&(i&&k.some(Ko)&&(_=ap(_,i)),b=Ys(b,_,!1,!0))}return s.dirs&&(b=Ys(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&oa(b,s.transition),E=b,Kn(S),E}const op=t=>{let e;for(const s in t)(s==="class"||s==="style"||oi(s))&&((e||(e={}))[s]=t[s]);return e},ap=(t,e)=>{const s={};for(const r in t)(!Ko(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function lp(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ga(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!gi(c,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ga(r,o,c):!0:!!o;return!1}function Ga(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!gi(s,i))return!0}return!1}function cp({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ru=t=>t.__isSuspense;function up(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):pf(t)}const pt=Symbol.for("v-fgt"),mi=Symbol.for("v-txt"),is=Symbol.for("v-cmt"),$i=Symbol.for("v-stc"),$r=[];let tt=null;function we(t=!1){$r.push(tt=t?null:[])}function hp(){$r.pop(),tt=$r[$r.length-1]||null}let Wr=1;function zn(t,e=!1){Wr+=t,t<0&&tt&&e&&(tt.hasOnce=!0)}function Tu(t){return t.dynamicChildren=Wr>0?tt||Hs:null,hp(),Wr>0&&tt&&tt.push(t),t}function ke(t,e,s,r,n,i){return Tu(j(t,e,s,r,n,i,!0))}function Au(t,e,s,r,n){return Tu(st(t,e,s,r,n,!0))}function Xn(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const xu=({key:t})=>t??null,Dn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Oe(t)||ve(t)||Q(t)?{i:et,r:t,k:e,f:!!s}:t:null);function j(t,e=null,s=null,r=0,n=null,i=t===pt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xu(e),ref:e&&Dn(e),scopeId:nu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:et};return a?(ua(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Oe(s)?8:16),Wr>0&&!o&&tt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&tt.push(l),l}const st=dp;function dp(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===jf)&&(t=is),Xn(t)){const a=Ys(t,e,!0);return s&&ua(a,s),Wr>0&&!i&&tt&&(a.shapeFlag&6?tt[tt.indexOf(t)]=a:tt.push(a)),a.patchFlag=-2,a}if(Ep(t)&&(t=t.__vccOpts),e){e=fp(e);let{class:a,style:l}=e;a&&!Oe(a)&&(e.class=Qr(a)),pe(l)&&(sa(l)&&!J(l)&&(l=Le({},l)),e.style=zo(l))}const o=Oe(t)?1:Ru(t)?128:yf(t)?64:pe(t)?4:Q(t)?2:0;return j(t,e,s,r,n,o,i,!0)}function fp(t){return t?sa(t)||gu(t)?Le({},t):t:null}function Ys(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?pp(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&xu(c),ref:e&&e.ref?s&&i?J(i)?i.concat(Dn(e)):[i,Dn(e)]:Dn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ys(t.ssContent),ssFallback:t.ssFallback&&Ys(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&oa(u,l.clone(u)),u}function zs(t=" ",e=0){return st(mi,null,t,e)}function Vr(t="",e=!1){return e?(we(),Au(is,null,t)):st(is,null,t)}function Rt(t){return t==null||typeof t=="boolean"?st(is):J(t)?st(pt,null,t.slice()):Xn(t)?Zt(t):st(mi,null,String(t))}function Zt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ys(t)}function ua(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(J(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ua(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!gu(e)?e._ctx=et:n===3&&et&&(et.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Q(e)?(e={default:e,_ctx:et},s=32):(e=String(e),r&64?(s=16,e=[zs(e)]):s=8);t.children=e,t.shapeFlag|=s}function pp(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Qr([e.class,r.class]));else if(n==="style")e.style=zo([e.style,r.style]);else if(oi(n)){const i=e[n],o=r[n];o&&i!==o&&!(J(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function kt(t,e,s,r=null){xt(t,e,7,[s,r])}const gp=du();let mp=0;function _p(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||gp,i={uid:mp++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $c(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_u(r,n),emitsOptions:Ou(r,n),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:r.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=np.bind(null,i),t.ce&&t.ce(i),i}let Ne=null;const Pu=()=>Ne||et;let Qn,_o;{const t=ui(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Qn=e("__VUE_INSTANCE_SETTERS__",s=>Ne=s),_o=e("__VUE_SSR_SETTERS__",s=>Hr=s)}const en=t=>{const e=Ne;return Qn(t),t.scope.on(),()=>{t.scope.off(),Qn(e)}},Ja=()=>{Ne&&Ne.scope.off(),Qn(null)};function Cu(t){return t.vnode.shapeFlag&4}let Hr=!1;function yp(t,e=!1,s=!1){e&&_o(e);const{props:r,children:n}=t.vnode,i=Cu(t);Vf(t,r,i,e),Jf(t,n,s||e);const o=i?wp(t,e):void 0;return e&&_o(!1),o}function wp(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Nf);const{setup:r}=s;if(r){Bt();const n=t.setupContext=r.length>1?vp(t):null,i=en(t),o=Zr(r,t,0,[t.props,n]),a=Tc(o);if(qt(),i(),(a||t.sp)&&!Ir(t)&&ou(t),a){if(o.then(Ja,Ja),e)return o.then(l=>{za(t,l)}).catch(l=>{di(l,t,0)});t.asyncDep=o}else za(t,o)}else Iu(t)}function za(t,e,s){Q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pe(e)&&(t.setupState=Zc(e)),Iu(t)}function Iu(t,e,s){const r=t.type;t.render||(t.render=r.render||At);{const n=en(t);Bt();try{Mf(t)}finally{qt(),n()}}}const bp={get(t,e){return $e(t,"get",""),t[e]}};function vp(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,bp),slots:t.slots,emit:t.emit,expose:e}}function _i(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zc(ra(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in jr)return jr[s](t)},has(e,s){return s in e||s in jr}})):t.proxy}function Sp(t,e=!0){return Q(t)?t.displayName||t.name:t.name||e&&t.__name}function Ep(t){return Q(t)&&"__vccOpts"in t}const Me=(t,e)=>cf(t,e,Hr);function ju(t,e,s){try{zn(-1);const r=arguments.length;return r===2?pe(e)&&!J(e)?Xn(e)?st(t,null,[e]):st(t,e):st(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Xn(s)&&(s=[s]),st(t,e,s))}finally{zn(1)}}const kp="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yo;const Xa=typeof window<"u"&&window.trustedTypes;if(Xa)try{yo=Xa.createPolicy("vue",{createHTML:t=>t})}catch{}const $u=yo?t=>yo.createHTML(t):t=>t,Op="http://www.w3.org/2000/svg",Rp="http://www.w3.org/1998/Math/MathML",Nt=typeof document<"u"?document:null,Qa=Nt&&Nt.createElement("template"),Tp={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Nt.createElementNS(Op,t):e==="mathml"?Nt.createElementNS(Rp,t):s?Nt.createElement(t,{is:s}):Nt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Nt.createTextNode(t),createComment:t=>Nt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Qa.innerHTML=$u(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Qa.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ap=Symbol("_vtc");function xp(t,e,s){const r=t[Ap];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ya=Symbol("_vod"),Pp=Symbol("_vsh"),Cp=Symbol(""),Ip=/(?:^|;)\s*display\s*:/;function jp(t,e,s){const r=t.style,n=Oe(s);let i=!1;if(s&&!n){if(e)if(Oe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Un(r,a,"")}else for(const o in e)s[o]==null&&Un(r,o,"");for(const o in s)o==="display"&&(i=!0),Un(r,o,s[o])}else if(n){if(e!==s){const o=r[Cp];o&&(s+=";"+o),r.cssText=s,i=Ip.test(s)}}else e&&t.removeAttribute("style");Ya in t&&(t[Ya]=i?r.display:"",t[Pp]&&(r.display="none"))}const Za=/\s*!important$/;function Un(t,e,s){if(J(s))s.forEach(r=>Un(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=$p(t,e);Za.test(s)?t.setProperty(ks(r),s.replace(Za,""),"important"):t[r]=s}}const el=["Webkit","Moz","ms"],Ni={};function $p(t,e){const s=Ni[e];if(s)return s;let r=lt(e);if(r!=="filter"&&r in t)return Ni[e]=r;r=ci(r);for(let n=0;n<el.length;n++){const i=el[n]+r;if(i in t)return Ni[e]=i}return e}const tl="http://www.w3.org/1999/xlink";function sl(t,e,s,r,n,i=$d(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(tl,e.slice(6,e.length)):t.setAttributeNS(tl,e,s):s==null||i&&!Cc(s)?t.removeAttribute(e):t.setAttribute(e,i?"":os(s)?String(s):s)}function rl(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?$u(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Cc(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Us(t,e,s,r){t.addEventListener(e,s,r)}function Np(t,e,s,r){t.removeEventListener(e,s,r)}const nl=Symbol("_vei");function Mp(t,e,s,r,n=null){const i=t[nl]||(t[nl]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Lp(e);if(r){const c=i[e]=Bp(r,n);Us(t,a,c,l)}else o&&(Np(t,a,o,l),i[e]=void 0)}}const il=/(?:Once|Passive|Capture)$/;function Lp(t){let e;if(il.test(t)){e={};let r;for(;r=t.match(il);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ks(t.slice(2)),e]}let Mi=0;const Dp=Promise.resolve(),Up=()=>Mi||(Dp.then(()=>Mi=0),Mi=Date.now());function Bp(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;xt(qp(r,s.value),e,5,[r])};return s.value=t,s.attached=Up(),s}function qp(t,e){if(J(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ol=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Fp=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?xp(t,r,o):e==="style"?jp(t,s,r):oi(e)?Ko(e)||Mp(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Wp(t,e,r,o))?(rl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sl(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Oe(r))?rl(t,lt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),sl(t,e,r,o))};function Wp(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ol(e)&&Q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ol(e)&&Oe(s)?!1:e in t}const al=t=>{const e=t.props["onUpdate:modelValue"]||!1;return J(e)?s=>Mn(e,s):e};function Vp(t){t.target.composing=!0}function ll(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Li=Symbol("_assign"),Hp={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Li]=al(n);const i=r||n.props&&n.props.type==="number";Us(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=ao(a)),t[Li](a)}),s&&Us(t,"change",()=>{t.value=t.value.trim()}),e||(Us(t,"compositionstart",Vp),Us(t,"compositionend",ll),Us(t,"change",ll))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Li]=al(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?ao(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Kp=["ctrl","shift","alt","meta"],Gp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Kp.some(s=>t[`${s}Key`]&&!e.includes(s))},Nu=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=((n,...i)=>{for(let o=0;o<e.length;o++){const a=Gp[e[o]];if(a&&a(n,e))return}return t(n,...i)}))},Jp=Le({patchProp:Fp},Tp);let cl;function zp(){return cl||(cl=Xf(Jp))}const Xp=((...t)=>{const e=zp().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Yp(r);if(!n)return;const i=e._component;!Q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Qp(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Qp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Yp(t){return Oe(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Mu;const yi=t=>Mu=t,Lu=Symbol();function wo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Nr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Nr||(Nr={}));function Zp(){const t=Nc(!0),e=t.run(()=>be({}));let s=[],r=[];const n=ra({install(i){yi(n),n._a=i,i.provide(Lu,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Du=()=>{};function ul(t,e,s,r=Du){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Mc()&&Nd(n),n}function xs(t,...e){t.slice().forEach(s=>{s(...e)})}const eg=t=>t(),hl=Symbol(),Di=Symbol();function bo(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];wo(n)&&wo(r)&&t.hasOwnProperty(s)&&!ve(r)&&!rs(r)?t[s]=bo(n,r):t[s]=r}return t}const tg=Symbol();function sg(t){return!wo(t)||!Object.prototype.hasOwnProperty.call(t,tg)}const{assign:Xt}=Object;function rg(t){return!!(ve(t)&&t.effect)}function ng(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function c(){a||(s.state.value[t]=n?n():{});const u=nf(s.state.value[t]);return Xt(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=ra(Me(()=>{yi(s);const d=s._s.get(t);return o[f].call(d,d)})),h),{}))}return l=Uu(t,c,e,s,r,!0),l}function Uu(t,e,s={},r,n,i){let o;const a=Xt({actions:{}},s),l={deep:!0};let c,u,h=[],f=[],d;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),be({});let w;function S(G){let F;c=u=!1,typeof G=="function"?(G(r.state.value[t]),F={type:Nr.patchFunction,storeId:t,events:d}):(bo(r.state.value[t],G),F={type:Nr.patchObject,payload:G,storeId:t,events:d});const re=w=Symbol();na().then(()=>{w===re&&(c=!0)}),u=!0,xs(h,F,r.state.value[t])}const E=i?function(){const{state:F}=s,re=F?F():{};this.$patch(Se=>{Xt(Se,re)})}:Du;function _(){o.stop(),h=[],f=[],r._s.delete(t)}const b=(G,F="")=>{if(hl in G)return G[Di]=F,G;const re=function(){yi(r);const Se=Array.from(arguments),me=[],Te=[];function wt(Y){me.push(Y)}function Wt(Y){Te.push(Y)}xs(f,{args:Se,name:re[Di],store:C,after:wt,onError:Wt});let ge;try{ge=G.apply(this&&this.$id===t?this:C,Se)}catch(Y){throw xs(Te,Y),Y}return ge instanceof Promise?ge.then(Y=>(xs(me,Y),Y)).catch(Y=>(xs(Te,Y),Promise.reject(Y))):(xs(me,ge),ge)};return re[hl]=!0,re[Di]=F,re},k={_p:r,$id:t,$onAction:ul.bind(null,f),$patch:S,$reset:E,$subscribe(G,F={}){const re=ul(h,G,F.detached,()=>Se()),Se=o.run(()=>Js(()=>r.state.value[t],me=>{(F.flush==="sync"?u:c)&&G({storeId:t,type:Nr.direct,events:d},me)},Xt({},l,F)));return re},$dispose:_},C=Yr(k);r._s.set(t,C);const q=(r._a&&r._a.runWithContext||eg)(()=>r._e.run(()=>(o=Nc()).run(()=>e({action:b}))));for(const G in q){const F=q[G];if(ve(F)&&!rg(F)||rs(F))i||(m&&sg(F)&&(ve(F)?F.value=m[G]:bo(F,m[G])),r.state.value[t][G]=F);else if(typeof F=="function"){const re=b(F,G);q[G]=re,a.actions[G]=F}}return Xt(C,q),Xt(ne(C),q),Object.defineProperty(C,"$state",{get:()=>r.state.value[t],set:G=>{S(F=>{Xt(F,G)})}}),r._p.forEach(G=>{Xt(C,o.run(()=>G({store:C,app:r._a,pinia:r,options:a})))}),m&&i&&s.hydrate&&s.hydrate(C.$state,m),c=!0,u=!0,C}/*! #__NO_SIDE_EFFECTS__ */function ig(t,e,s){let r;const n=typeof e=="function";r=n?s:e;function i(o,a){const l=Wf();return o=o||(l?at(Lu,null):null),o&&yi(o),o=Mu,o._s.has(t)||(n?Uu(t,e,r,o):ng(t,r,o)),o._s.get(t)}return i.$id=t,i}const tn=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},og={};function ag(t,e){const s=If("RouterView");return we(),Au(s)}const lg=tn(og,[["render",ag]]);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Bs=typeof document<"u";function Bu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function cg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Bu(t.default)}const oe=Object.assign;function Ui(t,e){const s={};for(const r in e){const n=e[r];s[r]=_t(n)?n.map(t):t(n)}return s}const Mr=()=>{},_t=Array.isArray;function dl(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}const qu=/#/g,ug=/&/g,hg=/\//g,dg=/=/g,fg=/\?/g,Fu=/\+/g,pg=/%5B/g,gg=/%5D/g,Wu=/%5E/g,mg=/%60/g,Vu=/%7B/g,_g=/%7C/g,Hu=/%7D/g,yg=/%20/g;function ha(t){return t==null?"":encodeURI(""+t).replace(_g,"|").replace(pg,"[").replace(gg,"]")}function wg(t){return ha(t).replace(Vu,"{").replace(Hu,"}").replace(Wu,"^")}function vo(t){return ha(t).replace(Fu,"%2B").replace(yg,"+").replace(qu,"%23").replace(ug,"%26").replace(mg,"`").replace(Vu,"{").replace(Hu,"}").replace(Wu,"^")}function bg(t){return vo(t).replace(dg,"%3D")}function vg(t){return ha(t).replace(qu,"%23").replace(fg,"%3F")}function Sg(t){return vg(t).replace(hg,"%2F")}function Kr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Eg=/\/$/,kg=t=>t.replace(Eg,"");function Bi(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Ag(r??e,s),{fullPath:r+i+o,path:r,query:n,hash:Kr(o)}}function Og(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function fl(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Rg(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Zs(e.matched[r],s.matched[n])&&Ku(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Zs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ku(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Tg(t[s],e[s]))return!1;return!0}function Tg(t,e){return _t(t)?pl(t,e):_t(e)?pl(e,t):t===e}function pl(t,e){return _t(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Ag(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let So=(function(t){return t.pop="pop",t.push="push",t})({}),qi=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function xg(t){if(!t)if(Bs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),kg(t)}const Pg=/^[^#]+#/;function Cg(t,e){return t.replace(Pg,"#")+e}function Ig(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const wi=()=>({left:window.scrollX,top:window.scrollY});function jg(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Ig(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gl(t,e){return(history.state?history.state.position-e:-1)+t}const Eo=new Map;function $g(t,e){Eo.set(t,e)}function Ng(t){const e=Eo.get(t);return Eo.delete(t),e}function Mg(t){return typeof t=="string"||t&&typeof t=="object"}function Gu(t){return typeof t=="string"||typeof t=="symbol"}let ye=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Ju=Symbol("");ye.MATCHER_NOT_FOUND+"",ye.NAVIGATION_GUARD_REDIRECT+"",ye.NAVIGATION_ABORTED+"",ye.NAVIGATION_CANCELLED+"",ye.NAVIGATION_DUPLICATED+"";function er(t,e){return oe(new Error,{type:t,[Ju]:!0},e)}function It(t,e){return t instanceof Error&&Ju in t&&(e==null||!!(t.type&e))}const Lg=["params","query","hash"];function Dg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of Lg)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function Ug(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const n=s[r].replace(Fu," "),i=n.indexOf("="),o=Kr(i<0?n:n.slice(0,i)),a=i<0?null:Kr(n.slice(i+1));if(o in e){let l=e[o];_t(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function ml(t){let e="";for(let s in t){const r=t[s];if(s=bg(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(_t(r)?r.map(n=>n&&vo(n)):[r&&vo(r)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+s,n!=null&&(e+="="+n))})}return e}function Bg(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=_t(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const qg=Symbol(""),_l=Symbol(""),bi=Symbol(""),da=Symbol(""),ko=Symbol("");function ur(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function es(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(er(ye.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?l(f):Mg(f)?l(er(ye.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(r&&r.instances[n],e,s,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Fi(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Bu(l)){const c=(l.__vccOpts||l)[e];c&&i.push(es(c,s,r,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=cg(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&es(f,s,r,o,a,n)()}))}}return i}function Fg(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Zs(c,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Zs(c,l))||n.push(l))}return[s,r,n]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Wg=()=>location.protocol+"//"+location.host;function zu(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),fl(a,"")}return fl(s,t)+r+n}function Vg(t,e,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const d=zu(t,location),m=s.value,w=e.value;let S=0;if(f){if(s.value=d,e.value=f,o&&o===m){o=null;return}S=w?f.position-w.position:0}else r(d);n.forEach(E=>{E(s.value,m,{delta:S,type:So.pop,direction:S?S>0?qi.forward:qi.back:qi.unknown})})};function l(){o=s.value}function c(f){n.push(f);const d=()=>{const m=n.indexOf(f);m>-1&&n.splice(m,1)};return i.push(d),d}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(oe({},f.state,{scroll:wi()}),"")}}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function yl(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?wi():null}}function Hg(t){const{history:e,location:s}=window,r={value:zu(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Wg()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),n.value=c}catch(d){console.error(d),s[u?"replace":"assign"](f)}}function o(l,c){i(l,oe({},e.state,yl(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),r.value=l}function a(l,c){const u=oe({},n.value,e.state,{forward:l,scroll:wi()});i(u.current,u,!0),i(l,oe({},yl(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Kg(t){t=xg(t);const e=Hg(t),s=Vg(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=oe({location:"",base:t,go:r,createHref:Cg.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let ws=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ae=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ae||{});const Gg={type:ws.Static,value:""},Jg=/[a-zA-Z0-9_]/;function zg(t){if(!t)return[[]];if(t==="/")return[[Gg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${s})/"${c}": ${d}`)}let s=Ae.Static,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(s===Ae.Static?i.push({type:ws.Static,value:c}):s===Ae.Param||s===Ae.ParamRegExp||s===Ae.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:ws.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==Ae.ParamRegExp){r=s,s=Ae.EscapeNext;continue}switch(s){case Ae.Static:l==="/"?(c&&h(),o()):l===":"?(h(),s=Ae.Param):f();break;case Ae.EscapeNext:f(),s=r;break;case Ae.Param:l==="("?s=Ae.ParamRegExp:Jg.test(l)?f():(h(),s=Ae.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Ae.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=Ae.ParamRegExpEnd:u+=l;break;case Ae.ParamRegExpEnd:h(),s=Ae.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===Ae.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const wl="[^/]+?",Xg={sensitive:!1,strict:!1,start:!0,end:!0};var qe=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(qe||{});const Qg=/[.+*?^${}()[\]/\\]/g;function Yg(t,e){const s=oe({},Xg,e),r=[];let n=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[qe.Root];s.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=qe.Segment+(s.sensitive?qe.BonusCaseSensitive:0);if(f.type===ws.Static)h||(n+="/"),n+=f.value.replace(Qg,"\\$&"),d+=qe.Static;else if(f.type===ws.Param){const{value:m,repeatable:w,optional:S,regexp:E}=f;i.push({name:m,repeatable:w,optional:S});const _=E||wl;if(_!==wl){d+=qe.BonusCustomRegExp;try{`${_}`}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+k.message)}}let b=w?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(b=S&&c.length<2?`(?:/${b})`:"/"+b),S&&(b+="?"),n+=b,d+=qe.Dynamic,S&&(d+=qe.BonusOptional),w&&(d+=qe.BonusRepeatable),_===".*"&&(d+=qe.BonusWildcard)}u.push(d)}r.push(u)}if(s.strict&&s.end){const c=r.length-1;r[c][r[c].length-1]+=qe.BonusStrict}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",m=i[f-1];h[m.name]=d&&m.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===ws.Static)u+=d.value;else if(d.type===ws.Param){const{value:m,repeatable:w,optional:S}=d,E=m in c?c[m]:"";if(_t(E)&&!w)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=_t(E)?E.join("/"):E;if(!_)if(S)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=_}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Zg(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===qe.Static+qe.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===qe.Static+qe.Segment?1:-1:0}function Xu(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Zg(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(bl(r))return 1;if(bl(n))return-1}return n.length-r.length}function bl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const em={strict:!1,end:!0,sensitive:!1};function tm(t,e,s){const r=Yg(zg(t.path),s),n=oe(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function sm(t,e){const s=[],r=new Map;e=dl(em,e);function n(h){return r.get(h)}function i(h,f,d){const m=!d,w=Sl(h);w.aliasOf=d&&d.record;const S=dl(e,h),E=[w];if("alias"in h){const k=typeof h.alias=="string"?[h.alias]:h.alias;for(const C of k)E.push(Sl(oe({},w,{components:d?d.record.components:w.components,path:C,aliasOf:d?d.record:w})))}let _,b;for(const k of E){const{path:C}=k;if(f&&C[0]!=="/"){const L=f.record.path,q=L[L.length-1]==="/"?"":"/";k.path=f.record.path+(C&&q+C)}if(_=tm(k,f,S),d?d.alias.push(_):(b=b||_,b!==_&&b.alias.push(_),m&&h.name&&!El(_)&&o(h.name)),Qu(_)&&l(_),w.children){const L=w.children;for(let q=0;q<L.length;q++)i(L[q],_,d&&d.children[q])}d=d||_}return b?()=>{o(b)}:Mr}function o(h){if(Gu(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=im(h,s);s.splice(f,0,h),h.record.name&&!El(h)&&r.set(h.record.name,h)}function c(h,f){let d,m={},w,S;if("name"in h&&h.name){if(d=r.get(h.name),!d)throw er(ye.MATCHER_NOT_FOUND,{location:h});S=d.record.name,m=oe(vl(f.params,d.keys.filter(b=>!b.optional).concat(d.parent?d.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),h.params&&vl(h.params,d.keys.map(b=>b.name))),w=d.stringify(m)}else if(h.path!=null)w=h.path,d=s.find(b=>b.re.test(w)),d&&(m=d.parse(w),S=d.record.name);else{if(d=f.name?r.get(f.name):s.find(b=>b.re.test(f.path)),!d)throw er(ye.MATCHER_NOT_FOUND,{location:h,currentLocation:f});S=d.record.name,m=oe({},f.params,h.params),w=d.stringify(m)}const E=[];let _=d;for(;_;)E.unshift(_.record),_=_.parent;return{name:S,path:w,params:m,matched:E,meta:nm(E)}}t.forEach(h=>i(h));function u(){s.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function vl(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Sl(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:rm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function rm(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function El(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function nm(t){return t.reduce((e,s)=>oe(e,s.meta),{})}function im(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;Xu(t,e[i])<0?r=i:s=i+1}const n=om(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function om(t){let e=t;for(;e=e.parent;)if(Qu(e)&&Xu(t,e)===0)return e}function Qu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function kl(t){const e=at(bi),s=at(da),r=Me(()=>{const l=Ss(t.to);return e.resolve(l)}),n=Me(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const f=h.findIndex(Zs.bind(null,u));if(f>-1)return f;const d=Ol(l[c-2]);return c>1&&Ol(u)===d&&h[h.length-1].path!==d?h.findIndex(Zs.bind(null,l[c-2])):f}),i=Me(()=>n.value>-1&&hm(s.params,r.value.params)),o=Me(()=>n.value>-1&&n.value===s.matched.length-1&&Ku(s.params,r.value.params));function a(l={}){if(um(l)){const c=e[Ss(t.replace)?"replace":"push"](Ss(t.to)).catch(Mr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Me(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function am(t){return t.length===1?t[0]:t}const lm=iu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:kl,setup(t,{slots:e}){const s=Yr(kl(t)),{options:r}=at(bi),n=Me(()=>({[Rl(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Rl(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&am(e.default(s));return t.custom?i:ju("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),cm=lm;function um(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function hm(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!_t(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Ol(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Rl=(t,e,s)=>t??e??s,dm=iu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=at(ko),n=Me(()=>t.route||r.value),i=at(_l,0),o=Me(()=>{let c=Ss(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Me(()=>n.value.matched[o.value]);Ln(_l,Me(()=>o.value+1)),Ln(qg,a),Ln(ko,n);const l=be();return Js(()=>[l.value,a.value,t.name],([c,u,h],[f,d,m])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Zs(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Tl(s.default,{Component:f,route:c});const d=h.props[u],m=d?d===!0?c.params:typeof d=="function"?d(c):d:null,S=ju(f,oe({},m,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Tl(s.default,{Component:S,route:c})||S}}});function Tl(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const fm=dm;function pm(t){const e=sm(t.routes,t),s=t.parseQuery||Ug,r=t.stringifyQuery||ml,n=t.history,i=ur(),o=ur(),a=ur(),l=tf(Ht);let c=Ht;Bs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ui.bind(null,T=>""+T),h=Ui.bind(null,Sg),f=Ui.bind(null,Kr);function d(T,D){let N,W;return Gu(T)?(N=e.getRecordMatcher(T),W=D):W=T,e.addRoute(W,N)}function m(T){const D=e.getRecordMatcher(T);D&&e.removeRoute(D)}function w(){return e.getRoutes().map(T=>T.record)}function S(T){return!!e.getRecordMatcher(T)}function E(T,D){if(D=oe({},D||l.value),typeof T=="string"){const y=Bi(s,T,D.path),R=e.resolve({path:y.path},D),A=n.createHref(y.fullPath);return oe(y,R,{params:f(R.params),hash:Kr(y.hash),redirectedFrom:void 0,href:A})}let N;if(T.path!=null)N=oe({},T,{path:Bi(s,T.path,D.path).path});else{const y=oe({},T.params);for(const R in y)y[R]==null&&delete y[R];N=oe({},T,{params:h(y)}),D.params=h(D.params)}const W=e.resolve(N,D),ee=T.hash||"";W.params=u(f(W.params));const p=Og(r,oe({},T,{hash:wg(ee),path:W.path})),g=n.createHref(p);return oe({fullPath:p,hash:ee,query:r===ml?Bg(T.query):T.query||{}},W,{redirectedFrom:void 0,href:g})}function _(T){return typeof T=="string"?Bi(s,T,l.value.path):oe({},T)}function b(T,D){if(c!==T)return er(ye.NAVIGATION_CANCELLED,{from:D,to:T})}function k(T){return q(T)}function C(T){return k(oe(_(T),{replace:!0}))}function L(T,D){const N=T.matched[T.matched.length-1];if(N&&N.redirect){const{redirect:W}=N;let ee=typeof W=="function"?W(T,D):W;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=_(ee):{path:ee},ee.params={}),oe({query:T.query,hash:T.hash,params:ee.path!=null?{}:T.params},ee)}}function q(T,D){const N=c=E(T),W=l.value,ee=T.state,p=T.force,g=T.replace===!0,y=L(N,W);if(y)return q(oe(_(y),{state:typeof y=="object"?oe({},ee,y.state):ee,force:p,replace:g}),D||N);const R=N;R.redirectedFrom=D;let A;return!p&&Rg(r,W,N)&&(A=er(ye.NAVIGATION_DUPLICATED,{to:R,from:W}),bt(W,W,!0,!1)),(A?Promise.resolve(A):re(R,W)).catch(O=>It(O)?It(O,ye.NAVIGATION_GUARD_REDIRECT)?O:Vt(O):ie(O,R,W)).then(O=>{if(O){if(It(O,ye.NAVIGATION_GUARD_REDIRECT))return q(oe({replace:g},_(O.to),{state:typeof O.to=="object"?oe({},ee,O.to.state):ee,force:p}),D||R)}else O=me(R,W,!0,g,ee);return Se(R,W,O),O})}function G(T,D){const N=b(T,D);return N?Promise.reject(N):Promise.resolve()}function F(T){const D=Ts.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(T):T()}function re(T,D){let N;const[W,ee,p]=Fg(T,D);N=Fi(W.reverse(),"beforeRouteLeave",T,D);for(const y of W)y.leaveGuards.forEach(R=>{N.push(es(R,T,D))});const g=G.bind(null,T,D);return N.push(g),rt(N).then(()=>{N=[];for(const y of i.list())N.push(es(y,T,D));return N.push(g),rt(N)}).then(()=>{N=Fi(ee,"beforeRouteUpdate",T,D);for(const y of ee)y.updateGuards.forEach(R=>{N.push(es(R,T,D))});return N.push(g),rt(N)}).then(()=>{N=[];for(const y of p)if(y.beforeEnter)if(_t(y.beforeEnter))for(const R of y.beforeEnter)N.push(es(R,T,D));else N.push(es(y.beforeEnter,T,D));return N.push(g),rt(N)}).then(()=>(T.matched.forEach(y=>y.enterCallbacks={}),N=Fi(p,"beforeRouteEnter",T,D,F),N.push(g),rt(N))).then(()=>{N=[];for(const y of o.list())N.push(es(y,T,D));return N.push(g),rt(N)}).catch(y=>It(y,ye.NAVIGATION_CANCELLED)?y:Promise.reject(y))}function Se(T,D,N){a.list().forEach(W=>F(()=>W(T,D,N)))}function me(T,D,N,W,ee){const p=b(T,D);if(p)return p;const g=D===Ht,y=Bs?history.state:{};N&&(W||g?n.replace(T.fullPath,oe({scroll:g&&y&&y.scroll},ee)):n.push(T.fullPath,ee)),l.value=T,bt(T,D,N,g),Vt()}let Te;function wt(){Te||(Te=n.listen((T,D,N)=>{if(!ls.listening)return;const W=E(T),ee=L(W,ls.currentRoute.value);if(ee){q(oe(ee,{replace:!0,force:!0}),W).catch(Mr);return}c=W;const p=l.value;Bs&&$g(gl(p.fullPath,N.delta),wi()),re(W,p).catch(g=>It(g,ye.NAVIGATION_ABORTED|ye.NAVIGATION_CANCELLED)?g:It(g,ye.NAVIGATION_GUARD_REDIRECT)?(q(oe(_(g.to),{force:!0}),W).then(y=>{It(y,ye.NAVIGATION_ABORTED|ye.NAVIGATION_DUPLICATED)&&!N.delta&&N.type===So.pop&&n.go(-1,!1)}).catch(Mr),Promise.reject()):(N.delta&&n.go(-N.delta,!1),ie(g,W,p))).then(g=>{g=g||me(W,p,!1),g&&(N.delta&&!It(g,ye.NAVIGATION_CANCELLED)?n.go(-N.delta,!1):N.type===So.pop&&It(g,ye.NAVIGATION_ABORTED|ye.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),Se(W,p,g)}).catch(Mr)}))}let Wt=ur(),ge=ur(),Y;function ie(T,D,N){Vt(T);const W=ge.list();return W.length?W.forEach(ee=>ee(T,D,N)):console.error(T),Promise.reject(T)}function Pt(){return Y&&l.value!==Ht?Promise.resolve():new Promise((T,D)=>{Wt.add([T,D])})}function Vt(T){return Y||(Y=!T,wt(),Wt.list().forEach(([D,N])=>T?N(T):D()),Wt.reset()),T}function bt(T,D,N,W){const{scrollBehavior:ee}=t;if(!Bs||!ee)return Promise.resolve();const p=!N&&Ng(gl(T.fullPath,0))||(W||!N)&&history.state&&history.state.scroll||null;return na().then(()=>ee(T,D,p)).then(g=>g&&jg(g)).catch(g=>ie(g,T,D))}const We=T=>n.go(T);let Rs;const Ts=new Set,ls={currentRoute:l,listening:!0,addRoute:d,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:w,resolve:E,options:t,push:k,replace:C,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ge.add,isReady:Pt,install(T){T.component("RouterLink",cm),T.component("RouterView",fm),T.config.globalProperties.$router=ls,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>Ss(l)}),Bs&&!Rs&&l.value===Ht&&(Rs=!0,k(n.location).catch(W=>{}));const D={};for(const W in Ht)Object.defineProperty(D,W,{get:()=>l.value[W],enumerable:!0});T.provide(bi,ls),T.provide(da,Qc(D)),T.provide(ko,l);const N=T.unmount;Ts.add(T),T.unmount=function(){Ts.delete(T),Ts.size<1&&(c=Ht,Te&&Te(),Te=null,l.value=Ht,Rs=!1,Y=!1),N()}}};function rt(T){return T.reduce((D,N)=>D.then(()=>F(N)),Promise.resolve())}return ls}function fa(){return at(bi)}function gm(t){return at(da)}var Oo=function(t,e){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])},Oo(t,e)};function Yu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Oo(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var Yn=function(){return Yn=Object.assign||function(e){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Yn.apply(this,arguments)};function rr(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function Zu(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i}function eh(t,e){return function(s,r){e(s,r,t)}}function th(t,e,s,r,n,i){function o(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h,f=!1,d=s.length-1;d>=0;d--){var m={};for(var w in r)m[w]=w==="access"?{}:r[w];for(var w in r.access)m.access[w]=r.access[w];m.addInitializer=function(E){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(E||null))};var S=(0,s[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=o(S.get))&&(u.get=h),(h=o(S.set))&&(u.set=h),(h=o(S.init))&&n.unshift(h)}else(h=o(S))&&(a==="field"?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,r.name,u),f=!0}function sh(t,e,s){for(var r=arguments.length>2,n=0;n<e.length;n++)s=r?e[n].call(t,s):e[n].call(t);return r?s:void 0}function rh(t){return typeof t=="symbol"?t:"".concat(t)}function nh(t,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function ih(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function B(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function oh(t,e){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(u){c=[6,u],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var vi=Object.create?(function(t,e,s,r){r===void 0&&(r=s);var n=Object.getOwnPropertyDescriptor(e,s);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,n)}):(function(t,e,s,r){r===void 0&&(r=s),t[r]=e[s]});function ah(t,e){for(var s in t)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&vi(e,t,s)}function Zn(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],r=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pa(t,e){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var r=s.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return i}function lh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pa(arguments[e]));return t}function ch(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<s;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)r[n]=i[o];return r}function uh(t,e,s){if(s||arguments.length===2)for(var r=0,n=e.length,i;r<n;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function tr(t){return this instanceof tr?(this.v=t,this):new tr(t)}function hh(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(d){return function(m){return Promise.resolve(m).then(d,h)}}function a(d,m){r[d]&&(n[d]=function(w){return new Promise(function(S,E){i.push([d,w,S,E])>1||l(d,w)})},m&&(n[d]=m(n[d])))}function l(d,m){try{c(r[d](m))}catch(w){f(i[0][3],w)}}function c(d){d.value instanceof tr?Promise.resolve(d.value.v).then(u,h):f(i[0][2],d)}function u(d){l("next",d)}function h(d){l("throw",d)}function f(d,m){d(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function dh(t){var e,s;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,i){e[n]=t[n]?function(o){return(s=!s)?{value:tr(t[n](o)),done:!1}:i?i(o):o}:i}}function fh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof Zn=="function"?Zn(t):t[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(i){s[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function ph(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var mm=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ro=function(t){return Ro=Object.getOwnPropertyNames||function(e){var s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[s.length]=r);return s},Ro(t)};function gh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s=Ro(t),r=0;r<s.length;r++)s[r]!=="default"&&vi(e,t,s[r]);return mm(e,t),e}function mh(t){return t&&t.__esModule?t:{default:t}}function _h(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function yh(t,e,s,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,s):n?n.value=s:e.set(t,s),s}function wh(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function bh(t,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,n;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],s&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:s})}else s&&t.stack.push({async:!0});return e}var _m=typeof SuppressedError=="function"?SuppressedError:function(t,e,s){var r=new Error(s);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function vh(t){function e(i){t.error=t.hasError?new _m(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var s,r=0;function n(){for(;s=t.stack.pop();)try{if(!s.async&&r===1)return r=0,t.stack.push(s),Promise.resolve().then(n);if(s.dispose){var i=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function Sh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,n,i,o){return r?e?".jsx":".js":n&&(!i||!o)?s:n+i+"."+o.toLowerCase()+"js"}):t}const ym={__extends:Yu,__assign:Yn,__rest:rr,__decorate:Zu,__param:eh,__esDecorate:th,__runInitializers:sh,__propKey:rh,__setFunctionName:nh,__metadata:ih,__awaiter:B,__generator:oh,__createBinding:vi,__exportStar:ah,__values:Zn,__read:pa,__spread:lh,__spreadArrays:ch,__spreadArray:uh,__await:tr,__asyncGenerator:hh,__asyncDelegator:dh,__asyncValues:fh,__makeTemplateObject:ph,__importStar:gh,__importDefault:mh,__classPrivateFieldGet:_h,__classPrivateFieldSet:yh,__classPrivateFieldIn:wh,__addDisposableResource:bh,__disposeResources:vh,__rewriteRelativeImportExtension:Sh},wm=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:bh,get __assign(){return Yn},__asyncDelegator:dh,__asyncGenerator:hh,__asyncValues:fh,__await:tr,__awaiter:B,__classPrivateFieldGet:_h,__classPrivateFieldIn:wh,__classPrivateFieldSet:yh,__createBinding:vi,__decorate:Zu,__disposeResources:vh,__esDecorate:th,__exportStar:ah,__extends:Yu,__generator:oh,__importDefault:mh,__importStar:gh,__makeTemplateObject:ph,__metadata:ih,__param:eh,__propKey:rh,__read:pa,__rest:rr,__rewriteRelativeImportExtension:Sh,__runInitializers:sh,__setFunctionName:nh,__spread:lh,__spreadArray:uh,__spreadArrays:ch,__values:Zn,default:ym},Symbol.toStringTag,{value:"Module"})),bm="modulepreload",vm=function(t){return"/"+t},Al={},nr=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=c(s.map(u=>{if(u=vm(u),u in Al)return;Al[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":bm,h||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((m,w)=>{d.addEventListener("load",m),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return n.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Sm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ga extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class xl extends ga{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pl extends ga{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cl extends ga{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var To;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(To||(To={}));class Em{constructor(e,{headers:s={},customFetch:r,region:n=To.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Sm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return B(this,arguments,void 0,function*(s,r={}){var n;try{const{headers:i,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const h=new URL(`${this.url}/${s}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const d=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(E=>{throw E.name==="AbortError"?E:new xl(E)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new Pl(d);if(!d.ok)throw new Cl(d);let w=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield d.json():w==="application/octet-stream"||w==="application/pdf"?S=yield d.blob():w==="text/event-stream"?S=d:w==="multipart/form-data"?S=yield d.formData():S=yield d.text(),{data:S,error:null,response:d}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new xl(i)}:{data:null,error:i,response:i instanceof Cl||i instanceof Pl?i.context:void 0}}})}}function km(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Eh(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Ie={};const ir=Eh(wm);var un={},hn={},dn={},fn={},pn={},Om=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sr=Om();const Rm=sr.fetch,kh=sr.fetch.bind(sr),Oh=sr.Headers,Tm=sr.Request,Am=sr.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oh,Request:Tm,Response:Am,default:kh,fetch:Rm},Symbol.toStringTag,{value:"Module"})),xm=Eh(Os);var gn={},Il;function Rh(){if(Il)return gn;Il=1,Object.defineProperty(gn,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return gn.default=t,gn}var jl;function Th(){if(jl)return pn;jl=1,Object.defineProperty(pn,"__esModule",{value:!0});const t=ir,e=t.__importDefault(xm),s=t.__importDefault(Rh());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,f,d;let m=null,w=null,S=null,E=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const L=await c.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=L:w=JSON.parse(L))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");k&&C&&C.length>1&&(S=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(m={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,E=406,_="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const k=await c.text();try{m=JSON.parse(k),Array.isArray(m)&&c.status===404&&(w=[],m=null,E=200,_="OK")}catch{c.status===404&&k===""?(E=204,_="No Content"):m={message:k}}if(m&&this.isMaybeSingle&&(!((d=m?.details)===null||d===void 0)&&d.includes("0 rows"))&&(m=null,E=200,_="OK"),m&&this.shouldThrowOnError)throw new s.default(m)}return{error:m,data:w,count:S,status:E,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,f;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return pn.default=r,pn}var $l;function Ah(){if($l)return fn;$l=1,Object.defineProperty(fn,"__esModule",{value:!0});const e=ir.__importDefault(Th());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return fn.default=s,fn}var Nl;function ma(){if(Nl)return dn;Nl=1,Object.defineProperty(dn,"__esModule",{value:!0});const e=ir.__importDefault(Ah());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return dn.default=s,dn}var Ml;function xh(){if(Ml)return hn;Ml=1,Object.defineProperty(hn,"__esModule",{value:!0});const e=ir.__importDefault(ma());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(h.length>0){const f=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return hn.default=s,hn}var Ll;function Pm(){if(Ll)return un;Ll=1,Object.defineProperty(un,"__esModule",{value:!0});const t=ir,e=t.__importDefault(xh()),s=t.__importDefault(ma());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let d;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{f.searchParams.append(w,S)})):(h="POST",d=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new s.default({method:h,url:f,headers:m,schema:this.schemaName,body:d,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return un.default=r,un}var Dl;function Cm(){if(Dl)return Ie;Dl=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const t=ir,e=t.__importDefault(Pm());Ie.PostgrestClient=e.default;const s=t.__importDefault(xh());Ie.PostgrestQueryBuilder=s.default;const r=t.__importDefault(ma());Ie.PostgrestFilterBuilder=r.default;const n=t.__importDefault(Ah());Ie.PostgrestTransformBuilder=n.default;const i=t.__importDefault(Th());Ie.PostgrestBuilder=i.default;const o=t.__importDefault(Rh());return Ie.PostgrestError=o.default,Ie.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ie}var Im=Cm();const jm=km(Im),{PostgrestClient:$m,PostgrestQueryBuilder:jb,PostgrestFilterBuilder:$b,PostgrestTransformBuilder:Nb,PostgrestBuilder:Mb,PostgrestError:Lb}=jm;class Nm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Mm="2.76.1",Lm=`realtime-js/${Mm}`,Dm="1.0.0",Ao=1e4,Um=1e3,Bm=100;var Lr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Lr||(Lr={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var xo;(function(t){t.websocket="websocket"})(xo||(xo={}));var _s;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_s||(_s={}));class qm{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ph{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const Ul=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Fm(o,t,e,n),i),{}):{}},Fm=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n?.type,o=s[t];return i&&!r.includes(i)?Ch(i,o):Po(o)},Ch=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Km(e,s)}switch(t){case he.bool:return Wm(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return Vm(e);case he.json:case he.jsonb:return Hm(e);case he.timestamp:return Gm(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Po(e);default:return Po(e)}},Po=t=>t,Wm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Km=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ch(e,a))}return t},Gm=t=>typeof t=="string"?t.replace(" ","T"):t,Ih=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wi{constructor(e,s,r={},n=Ao){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bl||(Bl={}));class Dr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Dr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Dr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(S=>S.presence_ref),d=h.map(S=>S.presence_ref),m=u.filter(S=>d.indexOf(S.presence_ref)<0),w=h.filter(S=>f.indexOf(S.presence_ref)<0);m.length>0&&(a[c]=m),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(d=>d.presence_ref),f=u.filter(d=>h.indexOf(d.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ql;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ql||(ql={}));var Ur;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ur||(Ur={}));var Mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class _a{constructor(e,s={config:{}},r){var n,i;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Wi(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Dr(this),this.broadcastEndpointURL=Ih(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Ur.PRESENCE]&&this.bindings[Ur.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e?.(Mt.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){e?.(Mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(m=w?.length)!==null&&m!==void 0?m:0,E=[];for(let _=0;_<S;_++){const b=w[_],{filter:{event:k,schema:C,table:L,filter:q}}=b,G=d&&d[_];if(G&&G.event===k&&G.schema===C&&G.table===L&&G.filter===q)E.push(Object.assign(Object.assign({},b),{id:G.id}));else{this.unsubscribe(),this.state=xe.errored,e?.(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Mt.SUBSCRIBED);return}}).receive("error",d=>{this.state=xe.errored,e?.(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===xe.joined&&e===Ur.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Wi(this,dt.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xe.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Wi(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Bm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=dt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(d=>{var m,w,S;return((m=d.filter)===null||m===void 0?void 0:m.event)==="*"||((S=(w=d.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(d=>d.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var m,w,S,E,_,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const k=d.id,C=(m=d.filter)===null||m===void 0?void 0:m.event;return k&&((w=s.ids)===null||w===void 0?void 0:w.includes(k))&&(C==="*"||C?.toLocaleLowerCase()===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const k=(_=(E=d?.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((b=s?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:S,commit_timestamp:E,type:_,errors:b}=m;f=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:E,eventType:_,new:{},old:{},errors:b}),this._getPayloadRecords(m))}d.callback(f,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&_a.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ul(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ul(e.columns,e.old_record)),s}}const Vi=()=>{},mn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Jm=[1e3,2e3,5e3,1e4],zm=1e4,Xm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qm{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ao,this.transport=null,this.heartbeatIntervalMs=mn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vi,this.ref=0,this.reconnectTimer=null,this.logger=Vi,this.conn=null,this.sendBuffer=[],this.serializer=new qm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Os);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${xo.websocket}`,this.httpEndpoint=Ih(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dm}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lr.connecting:return _s.Connecting;case Lr.open:return _s.Open;case Lr.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new _a(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Um,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},mn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Xm],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Lm};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(dt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ph(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,c,u;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Ao,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:mn.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Vi,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>Jm[h-1]||zm),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,f)=>f(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ya extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ym extends ya{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Co extends ya{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const wa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Zm=()=>B(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nr(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),Io=t=>{if(Array.isArray(t))return t.map(s=>Io(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Io(r)}),e},e_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),t_=(t,e,s)=>B(void 0,void 0,void 0,function*(){const r=yield Zm();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new Ym(Hi(n),i,o))}).catch(n=>{e(new Co(Hi(n),n))}):e(new Co(Hi(t),t))}),s_=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!r?n:(e_(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function sn(t,e,s,r,n,i){return B(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,s_(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>t_(l,a,r))})})}function Gr(t,e,s,r){return B(this,void 0,void 0,function*(){return sn(t,"GET",e,s,r)})}function ht(t,e,s,r,n){return B(this,void 0,void 0,function*(){return sn(t,"POST",e,r,n,s)})}function jo(t,e,s,r,n){return B(this,void 0,void 0,function*(){return sn(t,"PUT",e,r,n,s)})}function r_(t,e,s,r){return B(this,void 0,void 0,function*(){return sn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ba(t,e,s,r,n){return B(this,void 0,void 0,function*(){return sn(t,"DELETE",e,r,n,s)})}class n_{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return B(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_e(e))return{data:null,error:e};throw e}})}}var jh;class i_{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[jh]="BlobDownloadBuilder",this.promise=null}asStream(){return new n_(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return B(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_e(e))return{data:null,error:e};throw e}})}}jh=Symbol.toStringTag;const o_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a_{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=wa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return B(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fl),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield(e=="PUT"?jo:ht)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}upload(e,s,r){return B(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return B(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Fl.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield jo(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return B(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ya("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}update(e,s,r){return B(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return B(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}copy(e,s,r){return B(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return B(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ht(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return B(this,void 0,void 0,function*(){try{const n=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Gr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new i_(l,this.shouldThrowOnError)}info(e){return B(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Gr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Io(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}exists(e){return B(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield r_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r)&&r instanceof Co){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return B(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}list(e,s,r){return B(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},o_),s),{prefix:e||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}listV2(e,s){return B(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const $h="2.76.1",Nh={"X-Client-Info":`storage-js/${$h}`};class l_{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nh),s),this.fetch=wa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return B(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return B(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}createBucket(e){return B(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return B(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(e){return B(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return B(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}}class c_{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nh),s),this.fetch=wa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return B(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}listBuckets(e){return B(this,void 0,void 0,function*(){try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const r=s.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield Gr(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return B(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}}const va={"X-Client-Info":`storage-js/${$h}`,"Content-Type":"application/json"};class Mh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ki extends Mh{constructor(e,s,r){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class u_ extends Mh{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var Wl;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Wl||(Wl={}));const Sa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},h_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d_=(t,e,s)=>B(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||n+"";e(new Ki(Vl(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new Ki(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new Ki(a,n,o))}}else e(new u_(Vl(t),t))}),f_=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return r?(h_(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s)):n};function p_(t,e,s,r,n,i){return B(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,f_(e,r,n,i)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>d_(l,a,r))})})}function Ze(t,e,s,r,n){return B(this,void 0,void 0,function*(){return p_(t,"POST",e,r,n,s)})}class g_{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},va),s),this.fetch=Sa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return B(this,void 0,void 0,function*(){try{return{data:(yield Ze(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}getIndex(e,s){return B(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}listIndexes(e){return B(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return B(this,void 0,void 0,function*(){try{return{data:(yield Ze(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}class m_{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},va),s),this.fetch=Sa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return B(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ze(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}getVectors(e){return B(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listVectors(e){return B(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ze(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}queryVectors(e){return B(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}deleteVectors(e){return B(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ze(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}}class __{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},va),s),this.fetch=Sa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return B(this,void 0,void 0,function*(){try{return{data:(yield Ze(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}getBucket(e){return B(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listBuckets(){return B(this,arguments,void 0,function*(e={}){try{return{data:yield Ze(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}deleteBucket(e){return B(this,void 0,void 0,function*(){try{return{data:(yield Ze(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}}class y_ extends __{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new w_(this.url,this.headers,e,this.fetch)}}class w_ extends g_{constructor(e,s,r,n){super(e,s,n),this.vectorBucketName=r}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return B(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return B(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return B(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return B(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new b_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class b_ extends m_{constructor(e,s,r,n,i){super(e,s,i),this.vectorBucketName=r,this.indexName=n}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return B(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return B(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return B(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return B(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return B(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class v_ extends l_{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new a_(this.url,this.headers,e,this.fetch)}get vectors(){return new y_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new c_(this.url+"/iceberg",this.headers,this.fetch)}}const S_="2.76.1";let Or="";typeof Deno<"u"?Or="deno":typeof document<"u"?Or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Or="react-native":Or="node";const E_={"X-Client-Info":`supabase-js-${Or}/${S_}`},k_={headers:E_},O_={schema:"public"},R_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T_={},A_=t=>{let e;return t?e=t:typeof fetch>"u"?e=kh:e=fetch,(...s)=>e(...s)},x_=()=>typeof Headers>"u"?Oh:Headers,P_=(t,e,s)=>{const r=A_(s),n=x_();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))}};function C_(t){return t.endsWith("/")?t:t+"/"}function I_(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function j_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lh="2.76.1",qs=30*1e3,$o=3,Gi=$o*qs,$_="http://localhost:9999",N_="supabase.auth.token",M_={"X-Client-Info":`gotrue-js/${Lh}`},No="X-Supabase-Api-Version",Dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D_=600*1e3;class Jr extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class U_ extends Jr{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function B_(t){return H(t)&&t.name==="AuthApiError"}class ys extends Jr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class as extends Jr{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Qt extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q_(t){return H(t)&&t.name==="AuthSessionMissingError"}class Ps extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _n extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yn extends as{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F_(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hl extends as{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mo extends as{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ji(t){return H(t)&&t.name==="AuthRetryableFetchError"}class Kl extends as{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Lo extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gl=` 	
\r=`.split(""),W_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gl.length;e+=1)t[Gl[e].charCodeAt(0)]=-2;for(let e=0;e<ei.length;e+=1)t[ei[e].charCodeAt(0)]=e;return t})();function Jl(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(ei[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(ei[r]),e.queuedBits-=6}}function Uh(t,e,s){const r=W_[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zl(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{K_(o,r,s)};for(let o=0;o<t.length;o+=1)Uh(t.charCodeAt(o),n,i);return e.join("")}function V_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function H_(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}V_(r,e)}}function K_(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Xs(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Uh(t.charCodeAt(n),s,r);return new Uint8Array(e)}function G_(t){const e=[];return H_(t,s=>e.push(s)),new Uint8Array(e)}function bs(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Jl(n,s,r)),Jl(null,s,r),e.join("")}function J_(t){return Math.round(Date.now()/1e3)+t}function z_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",hs={tested:!1,writable:!1},Bh=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hs.tested)return hs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hs.tested=!0,hs.writable=!0}catch{hs.tested=!0,hs.writable=!1}return hs.writable};function X_(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const qh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Os);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Q_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fs=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ds=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Kt=async(t,e)=>{await t.removeItem(e)};class Si{constructor(){this.promise=new Si.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Si.promiseConstructor=Promise;function zi(t){const e=t.split(".");if(e.length!==3)throw new Lo("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!L_.test(e[r]))throw new Lo("JWT not in base64url format");return{header:JSON.parse(zl(e[0])),payload:JSON.parse(zl(e[1])),signature:Xs(e[2]),raw:{header:e[0],payload:e[1]}}}async function Y_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Z_(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ey(t){return("0"+t.toString(16)).substr(-2)}function ty(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,ey).join("")}async function sy(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ry(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await sy(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(t,e,s=!1){const r=ty();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Fs(t,`${e}-code-verifier`,n);const i=await ry(r);return[i,r===i?"plain":"s256"]}const ny=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iy(t){const e=t.headers.get(No);if(!e||!e.match(ny))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ay(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ly=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(t){if(!ly.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xi(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xl(t){return JSON.parse(JSON.stringify(t))}const gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cy=[502,503,504];async function Ql(t){var e;if(!Q_(t))throw new Mo(gs(t),0);if(cy.includes(t.status))throw new Mo(gs(t),t.status);let s;try{s=await t.json()}catch(i){throw new ys(gs(i),i)}let r;const n=iy(t);if(n&&n.getTime()>=Dh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Kl(gs(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Kl(gs(s),t.status,s.weak_password.reasons);throw new U_(gs(s),t.status||500,r)}const uy=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function X(t,e,s,r){var n;const i=Object.assign({},r?.headers);i[No]||(i[No]=Dh["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hy(t,e,s+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function hy(t,e,s,r,n,i){const o=uy(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Mo(gs(l),0)}if(a.ok||await Ql(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Ql(l)}}function ut(t){var e;let s=null;py(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=J_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Yl(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ts(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dy(t){return{data:t,error:null}}function fy(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=rr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zl(t){return t}function py(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qi=["global","local","others"];class gy{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=qh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Qi[0]){if(Qi.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qi.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ts})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=rr(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:fy,redirectTo:s?.redirectTo})}catch(s){if(H(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ts})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Zl});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);c[`${S}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Is(e);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ts})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Is(e);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ts})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Is(e);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ts})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Is(e.userId);try{const{data:s,error:r}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Is(e.userId),Is(e.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await X(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Zl});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);c[`${S}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(H(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await X(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await X(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}}function ec(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const js={debug:!!(globalThis&&Bh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class my extends Fh{}async function _y(t,e,s){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new my(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(js.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function yy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wy(t){return parseInt(t,16)}function by(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function vy(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=Wh(t.address),m=u?`${u}://${r}`:r,w=t.statement?`${t.statement}
`:"",S=`${m} wants you to sign in with your Ethereum account:
${d}

${w}`;let E=`URI: ${h}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(E+=`
Expiration Time: ${n.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),l&&(E+=`
Request ID: ${l}`),c){let _=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);_+=`
- ${b}`}E+=_}return`${S}
${E}`}class Ee extends Error{constructor({message:e,code:s,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=n??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class ti extends Ee{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Sy({error:t,options:e}){var s,r,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Vh(o)){if(i.rp.id!==o)return new Ee({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ey({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Vh(r)){if(s.rpId!==r)return new Ee({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ky{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Oy=new ky;function Ry(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,n=rr(t,["challenge","user","excludeCredentials"]),i=Xs(e).buffer,o=Object.assign(Object.assign({},s),{id:Xs(s.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Xs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Ty(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=rr(t,["challenge","allowCredentials"]),n=Xs(e).buffer,i=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Xs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ay(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:bs(new Uint8Array(t.response.attestationObject)),clientDataJSON:bs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bs(new Uint8Array(n.authenticatorData)),clientDataJSON:bs(new Uint8Array(n.clientDataJSON)),signature:bs(new Uint8Array(n.signature)),userHandle:n.userHandle?bs(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Vh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function tc(){var t,e;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Py(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ti("Browser returned unexpected credential type",e)}:{data:null,error:new ti("Empty credential response",e)}}catch(e){return{data:null,error:Sy({error:e,options:t})}}}async function Cy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ti("Browser returned unexpected credential type",e)}:{data:null,error:new ti("Empty credential response",e)}}catch(e){return{data:null,error:Ey({error:e,options:t})}}}const Iy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},jy={userVerification:"preferred",hints:["security-key"]};function si(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(s(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=si(a,o):r[i]=si(o)}else r[i]=o}return r}function $y(t,e){return si(Iy,t,e||{})}function Ny(t,e){return si(jy,t,e||{})}class My{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=n??Oy.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=$y(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await Py({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Ny(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await Cy(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new ys("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!s)return{data:null,error:new Jr("rpId is required for WebAuthn authentication")};try{if(!tc())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new ys("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!s)return{data:null,error:new Jr("rpId is required for WebAuthn registration")};try{if(!tc())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new ys("Unexpected error in register",o)}}}}yy();const Ly={url:$_,storageKey:N_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sc(t,e,s){return await s()}const $s={};class zr{get jwks(){var e,s;return(s=(e=$s[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=$s[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{cachedAt:e})}constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zr.nextInstanceID,zr.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ly),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new gy({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=qh(n.fetch),this.lock=n.lock||sc,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Qe()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=_y:this.lock=sc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new My(this)},this.persistSession?(n.storage?this.storage=n.storage:Bh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ec(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ec(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=X_(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Qe()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),F_(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return H(s)?{error:s}:{error:new ys("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ut}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Cs(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(s=f?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:m},xform:ut})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},channel:(n=f?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ut})}else throw new _n("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yl})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yl})}else throw new _n("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ps}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,l,c,u,h,f;let d,m;if("message"in e)d=e.message,m=e.signature;else{const{chain:w,wallet:S,statement:E,options:_}=e;let b;if(Qe())if(typeof S=="object")b=S;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")b=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=S}const k=new URL((s=_?.url)!==null&&s!==void 0?s:window.location.href),C=await b.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=Wh(C[0]);let q=(r=_?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!q){const F=await b.request({method:"eth_chainId"});q=wy(F)}const G={domain:k.host,address:L,statement:E,uri:k.href,version:"1",chainId:q,nonce:(n=_?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=_?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.resources};d=vy(G),m=await b.request({method:"personal_sign",params:[by(d),L]})}try{const{data:w,error:S}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(S)throw S;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ps}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:S})}catch(w){if(H(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var s,r,n,i,o,a,l,c,u,h,f,d;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:S,wallet:E,statement:_,options:b}=e;let k;if(Qe())if(typeof E=="object")k=E;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))k=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const C=new URL((s=b?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in k&&k.signIn){const L=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),_?{statement:_}:null));let q;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")q=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)q=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)m=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),w=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(n=(r=b?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const L=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=L}}try{const{data:S,error:E}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:bs(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ut});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Ps}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(H(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const s=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ut});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ps}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ut}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ps}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Cs(this.storage,this.storageKey));const{error:h}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new _n("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Cs(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:dy})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Qt;const{error:n}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await X(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await X(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new _n("You must provide either an email or phone number and a type")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Gi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ds(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Xi()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ts}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ts})})}catch(s){if(H(s))return q_(s)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Qt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Cs(this.storage,this.storageKey));const{data:c,error:u}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ts});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=zi(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(H(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Qt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Qe())throw new yn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Hl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hl("No code detected.");const{data:_,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new yn("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const d=f-u;d*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const m=f-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const E={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(B_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=z_(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Cs(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Qe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(H(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:n,data:{session:i}}=s;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ut}),{data:f,error:d}=h;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ps}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:d})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Z_(async n=>(n>0&&await Y_(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Ji(i)&&Date.now()+o-r<qs})}catch(r){if(this._debug(s,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Qe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ds(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Fs(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:Xi()}else if(n&&!n.user&&!n.user){const o=await ds(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await Kt(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,n)):n.user=Xi()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Gi;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Gi}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ji(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Si;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),H(i)){const o={data:null,error:i};return Ji(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=Xl(n);await Fs(this.storage,this.storageKey,i)}else{const n=Xl(s);await Fs(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${qs}ms, refresh threshold is ${$o} ticks`),n<=$o&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await X(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ay(e.webauthn.credential_response):xy(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const o=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ry(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ty(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s?.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zi(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+D_>n)return r;const{data:i,error:o}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:d,error:m}=await this.getSession();if(m||!d.session)return{data:null,error:m};r=d.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=zi(r);s?.allowExpired||oy(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:d}=await this.getUser(r);if(d)throw d;return{data:{claims:i,header:n,signature:o},error:null}}const u=ay(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,G_(`${a}.${l}`)))throw new Lo("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}zr.nextInstanceID=0;const Dy=zr;class Uy extends Dy{constructor(e){super(e)}}class By{constructor(e,s,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=j_(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:O_,realtime:T_,auth:Object.assign(Object.assign({},R_),{storageKey:l}),global:k_},u=I_(r??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=P_(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new $m(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new v_(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Em(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uy({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Qm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qy=(t,e,s)=>new By(t,e,s);function Fy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Fy()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wy="https://vqrpiyhuipryyasjgong.supabase.co",Vy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcnBpeWh1aXByeXlhc2pnb25nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzNTU5NzYsImV4cCI6MjA3NjkzMTk3Nn0.7NKXR7Khx1VUHyNsQhKhX7i6x4wEz8LTcgLMh1zZZxQ",ft=qy(Wy,Vy),Ea=ig("auth",()=>{const t=be(null),e=be(!1);return{student:t,isAuthenticated:e,login:async i=>{try{const{data:o,error:a}=await ft.from("students").select("*").eq("name",i);if(a)throw a;let l;if(o&&o.length>0)l=o[0];else{const{data:c,error:u}=await ft.from("students").insert({name:i}).select().single();if(u)throw u;l=c}return t.value=l,e.value=!0,localStorage.setItem("student",JSON.stringify(l)),l}catch(o){throw console.error("로그인 실패:",o),o}},logout:()=>{t.value=null,e.value=!1,localStorage.removeItem("student")},restoreSession:()=>{const i=localStorage.getItem("student");i&&(t.value=JSON.parse(i),e.value=!0)}}}),Hy={class:"login-container"},Ky={class:"login-box"},Gy=["disabled"],Jy={key:0,class:"error"},zy={__name:"LoginView",setup(t){const e=fa(),s=Ea(),r=be(""),n=be(!1),i=be(""),o=async()=>{n.value=!0,i.value="";try{await s.login(r.value),e.push("/test")}catch(a){i.value="로그인 중 오류가 발생했습니다.",console.error(a)}finally{n.value=!1}};return(a,l)=>(we(),ke("div",Hy,[j("div",Ky,[l[2]||(l[2]=j("h1",null,"📘 고등학생 AI·디지털 역량 진단 평가",-1)),l[3]||(l[3]=j("div",{class:"info-section"},[j("p",{class:"main-info"},[zs(" 본 검사는 고등학생을 대상으로 "),j("strong",null,"인공지능(AI) 역량"),zs("과 "),j("strong",null,"디지털 역량"),zs("을 진단하기 위해 설계되었습니다. ")]),j("p",{class:"sub-info"}," 📝 객관식 4지선다형 · ⏱️ 소요 시간 약 30분 ")],-1)),j("form",{onSubmit:Nu(o,["prevent"]),class:"login-form"},[l[1]||(l[1]=j("p",{class:"form-label"},"이름을 입력하고 시작하세요",-1)),mf(j("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c),type:"text",placeholder:"이름을 입력하세요",required:"",autofocus:""},null,512),[[Hp,r.value]]),j("button",{type:"submit",disabled:!r.value.trim()||n.value},fe(n.value?"로그인 중...":"테스트 시작"),9,Gy),i.value?(we(),ke("p",Jy,fe(i.value),1)):Vr("",!0)],32)])]))}},Xy=tn(zy,[["__scopeId","data-v-d7df6d0b"]]);function U(t,e,s,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}function v(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}let Hh=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return Hh=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),s=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^s()&15>>+r/4).toString(16))};function Xr(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Do=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Z extends Error{}class De extends Z{constructor(e,s,r,n){super(`${De.makeMessage(e,s,r)}`),this.status=e,this.headers=n,this.requestID=n?.get("request-id"),this.error=s}static makeMessage(e,s,r){const n=s?.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,s,r,n){if(!e||!n)return new Ei({message:r,cause:Do(s)});const i=s;return e===400?new Gh(e,i,r,n):e===401?new Jh(e,i,r,n):e===403?new zh(e,i,r,n):e===404?new Xh(e,i,r,n):e===409?new Qh(e,i,r,n):e===422?new Yh(e,i,r,n):e===429?new Zh(e,i,r,n):e>=500?new ed(e,i,r,n):new De(e,i,r,n)}}class gt extends De{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ei extends De{constructor({message:e,cause:s}){super(void 0,void 0,e||"Connection error.",void 0),s&&(this.cause=s)}}class Kh extends Ei{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Gh extends De{}class Jh extends De{}class zh extends De{}class Xh extends De{}class Qh extends De{}class Yh extends De{}class Zh extends De{}class ed extends De{}const Qy=/^[a-z][a-z0-9+.-]*:/i,Yy=t=>Qy.test(t);let Uo=t=>(Uo=Array.isArray,Uo(t)),rc=Uo;function Bo(t){return typeof t!="object"?{}:t??{}}function Zy(t){if(!t)return!0;for(const e in t)return!1;return!0}function ew(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const tw=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Z(`${t} must be an integer`);if(e<0)throw new Z(`${t} must be a positive integer`);return e},td=t=>{try{return JSON.parse(t)}catch{return}},sw=t=>new Promise(e=>setTimeout(e,t)),Ws="0.67.0",rw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function nw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const iw=()=>{const t=nw();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":ic(Deno.build.os),"X-Stainless-Arch":nc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":ic(globalThis.process.platform??"unknown"),"X-Stainless-Arch":nc(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=ow();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ow(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:s}of t){const r=s.exec(navigator.userAgent);if(r){const n=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${n}.${i}.${o}`}}}return null}const nc=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ic=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let oc;const aw=()=>oc??(oc=iw());function lw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function sd(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function rd(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return sd({start(){},async pull(s){const{done:r,value:n}=await e.next();r?s.close():s.enqueue(n)},async cancel(){await e.return?.()}})}function ka(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const s=await e.read();return s?.done&&e.releaseLock(),s}catch(s){throw e.releaseLock(),s}},async return(){const s=e.cancel();return e.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cw(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),s=e.cancel();e.releaseLock(),await s}const uw=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function hw(t){let e=0;for(const n of t)e+=n.length;const s=new Uint8Array(e);let r=0;for(const n of t)s.set(n,r),r+=n.length;return s}let ac;function Oa(t){let e;return(ac??(e=new globalThis.TextEncoder,ac=e.encode.bind(e)))(t)}let lc;function cc(t){let e;return(lc??(e=new globalThis.TextDecoder,lc=e.decode.bind(e)))(t)}var Je,ze;class rn{constructor(){Je.set(this,void 0),ze.set(this,void 0),U(this,Je,new Uint8Array),U(this,ze,null)}decode(e){if(e==null)return[];const s=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Oa(e):e;U(this,Je,hw([v(this,Je,"f"),s]));const r=[];let n;for(;(n=dw(v(this,Je,"f"),v(this,ze,"f")))!=null;){if(n.carriage&&v(this,ze,"f")==null){U(this,ze,n.index);continue}if(v(this,ze,"f")!=null&&(n.index!==v(this,ze,"f")+1||n.carriage)){r.push(cc(v(this,Je,"f").subarray(0,v(this,ze,"f")-1))),U(this,Je,v(this,Je,"f").subarray(v(this,ze,"f"))),U(this,ze,null);continue}const i=v(this,ze,"f")!==null?n.preceding-1:n.preceding,o=cc(v(this,Je,"f").subarray(0,i));r.push(o),U(this,Je,v(this,Je,"f").subarray(n.index)),U(this,ze,null)}return r}flush(){return v(this,Je,"f").length?this.decode(`
`):[]}}Je=new WeakMap,ze=new WeakMap;rn.NEWLINE_CHARS=new Set([`
`,"\r"]);rn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dw(t,e){for(let n=e??0;n<t.length;n++){if(t[n]===10)return{preceding:n,index:n+1,carriage:!1};if(t[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function fw(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const ri={off:0,error:200,warn:300,info:400,debug:500},uc=(t,e,s)=>{if(t){if(ew(ri,t))return t;Be(s).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ri))}`)}};function Rr(){}function wn(t,e,s){return!e||ri[t]>ri[s]?Rr:e[t].bind(e)}const pw={error:Rr,warn:Rr,info:Rr,debug:Rr};let hc=new WeakMap;function Be(t){const e=t.logger,s=t.logLevel??"off";if(!e)return pw;const r=hc.get(e);if(r&&r[0]===s)return r[1];const n={error:wn("error",e,s),warn:wn("warn",e,s),info:wn("info",e,s),debug:wn("debug",e,s)};return hc.set(e,[s,n]),n}const ms=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,s])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var hr;class Tt{constructor(e,s,r){this.iterator=e,hr.set(this,void 0),this.controller=s,U(this,hr,r)}static fromSSEResponse(e,s,r){let n=!1;const i=r?Be(r):console;async function*o(){if(n)throw new Z("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const l of gw(e,s)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(l.event!=="ping"&&l.event==="error")throw new De(void 0,td(l.data)??l.data,void 0,e.headers)}a=!0}catch(l){if(Xr(l))return;throw l}finally{a||s.abort()}}return new Tt(o,s,r)}static fromReadableStream(e,s,r){let n=!1;async function*i(){const a=new rn,l=ka(e);for await(const c of l)for(const u of a.decode(c))yield u;for(const c of a.flush())yield c}async function*o(){if(n)throw new Z("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const l of i())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Xr(l))return;throw l}finally{a||s.abort()}}return new Tt(o,s,r)}[(hr=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],s=[],r=this.iterator(),n=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),s.push(o)}return i.shift()}});return[new Tt(()=>n(e),this.controller,v(this,hr,"f")),new Tt(()=>n(s),this.controller,v(this,hr,"f"))]}toReadableStream(){const e=this;let s;return sd({async start(){s=e[Symbol.asyncIterator]()},async pull(r){try{const{value:n,done:i}=await s.next();if(i)return r.close();const o=Oa(JSON.stringify(n)+`
`);r.enqueue(o)}catch(n){r.error(n)}},async cancel(){await s.return?.()}})}}async function*gw(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Z("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Z("Attempted to iterate over a response with no body");const s=new _w,r=new rn,n=ka(t.body);for await(const i of mw(n))for(const o of r.decode(i)){const a=s.decode(o);a&&(yield a)}for(const i of r.flush()){const o=s.decode(i);o&&(yield o)}}async function*mw(t){let e=new Uint8Array;for await(const s of t){if(s==null)continue;const r=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?Oa(s):s;let n=new Uint8Array(e.length+r.length);n.set(e),n.set(r,e.length),e=n;let i;for(;(i=fw(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class _w{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[s,r,n]=yw(e,":");return n.startsWith(" ")&&(n=n.substring(1)),s==="event"?this.event=n:s==="data"&&this.data.push(n),null}}function yw(t,e){const s=t.indexOf(e);return s!==-1?[t.substring(0,s),e,t.substring(s+e.length)]:[t,"",""]}async function nd(t,e){const{response:s,requestLogID:r,retryOfRequestLogID:n,startTime:i}=e,o=await(async()=>{if(e.options.stream)return Be(t).debug("response",s.status,s.url,s.headers,s.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(s,e.controller):Tt.fromSSEResponse(s,e.controller);if(s.status===204)return null;if(e.options.__binaryResponse)return s;const l=s.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const h=await s.json();return id(h,s)}return await s.text()})();return Be(t).debug(`[${r}] response parsed`,ms({retryOfRequestLogID:n,url:s.url,status:s.status,body:o,durationMs:Date.now()-i})),o}function id(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var Tr;class ki extends Promise{constructor(e,s,r=nd){super(n=>{n(null)}),this.responsePromise=s,this.parseResponse=r,Tr.set(this,void 0),U(this,Tr,e)}_thenUnwrap(e){return new ki(v(this,Tr,"f"),this.responsePromise,async(s,r)=>id(e(await this.parseResponse(s,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:s,request_id:s.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(v(this,Tr,"f"),e))),this.parsedPromise}then(e,s){return this.parse().then(e,s)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Tr=new WeakMap;var bn;class od{constructor(e,s,r,n){bn.set(this,void 0),U(this,bn,e),this.options=n,this.response=s,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await v(this,bn,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(bn=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const s of e.getPaginatedItems())yield s}}class ww extends ki{constructor(e,s,r){super(e,s,async(n,i)=>new r(n,i.response,await nd(n,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const s of e)yield s}}class nn extends od{constructor(e,s,r,n){super(e,s,r,n),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const s=this.first_id;return s?{...this.options,query:{...Bo(this.options.query),before_id:s}}:null}const e=this.last_id;return e?{...this.options,query:{...Bo(this.options.query),after_id:e}}:null}}class ad extends od{constructor(e,s,r,n){super(e,s,r,n),this.data=r.data||[],this.has_more=r.has_more||!1,this.next_page=r.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.next_page;return e?{...this.options,query:{...Bo(this.options.query),page:e}}:null}}const ld=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Qs(t,e,s){return ld(),new File(t,e??"unknown_file",s)}function Bn(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const cd=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Ra=async(t,e)=>({...t,body:await vw(t.body,e)}),dc=new WeakMap;function bw(t){const e=typeof t=="function"?t:t.fetch,s=dc.get(e);if(s)return s;const r=(async()=>{try{const n="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new n(i).text()}catch{return!0}})();return dc.set(e,r),r}const vw=async(t,e)=>{if(!await bw(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const s=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,n])=>qo(s,r,n))),s},Sw=t=>t instanceof Blob&&"name"in t,qo=async(t,e,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")t.append(e,String(s));else if(s instanceof Response){let r={};const n=s.headers.get("Content-Type");n&&(r={type:n}),t.append(e,Qs([await s.blob()],Bn(s),r))}else if(cd(s))t.append(e,Qs([await new Response(rd(s)).blob()],Bn(s)));else if(Sw(s))t.append(e,Qs([s],Bn(s),{type:s.type}));else if(Array.isArray(s))await Promise.all(s.map(r=>qo(t,e+"[]",r)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([r,n])=>qo(t,`${e}[${r}]`,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}},ud=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Ew=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ud(t),kw=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Ow(t,e,s){if(ld(),t=await t,e||(e=Bn(t)),Ew(t))return t instanceof File&&e==null&&s==null?t:Qs([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...s});if(kw(t)){const n=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Qs(await Fo(n),e,s)}const r=await Fo(t);if(!s?.type){const n=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof n=="string"&&(s={...s,type:n})}return Qs(r,e,s)}async function Fo(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(ud(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(cd(t))for await(const s of t)e.push(...await Fo(s));else{const s=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${s?`; constructor: ${s}`:""}${Rw(t)}`)}return e}function Rw(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(s=>`"${s}"`).join(", ")}]`}class yt{constructor(e){this._client=e}}const hd=Symbol.for("brand.privateNullableHeaders");function*Tw(t){if(!t)return;if(hd in t){const{values:r,nulls:n}=t;yield*r.entries();for(const i of n)yield[i,null];return}let e=!1,s;t instanceof Headers?s=t.entries():rc(t)?s=t:(e=!0,s=Object.entries(t??{}));for(let r of s){const n=r[0];if(typeof n!="string")throw new TypeError("expected header name to be a string");const i=rc(r[1])?r[1]:[r[1]];let o=!1;for(const a of i)a!==void 0&&(e&&!o&&(o=!0,yield[n,null]),yield[n,a])}}const se=t=>{const e=new Headers,s=new Set;for(const r of t){const n=new Set;for(const[i,o]of Tw(r)){const a=i.toLowerCase();n.has(a)||(e.delete(i),n.add(a)),o===null?(e.delete(i),s.add(a)):(e.append(i,o),s.delete(a))}}return{[hd]:!0,values:e,nulls:s}};function dd(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fc=Object.freeze(Object.create(null)),Aw=(t=dd)=>function(s,...r){if(s.length===1)return s[0];let n=!1;const i=[],o=s.reduce((u,h,f)=>{/[?#]/.test(h)&&(n=!0);const d=r[f];let m=(n?encodeURIComponent:t)(""+d);return f!==r.length&&(d==null||typeof d=="object"&&d.toString===Object.getPrototypeOf(Object.getPrototypeOf(d.hasOwnProperty??fc)??fc)?.toString)&&(m=d+"",i.push({start:u.length+h.length,length:m.length,error:`Value of type ${Object.prototype.toString.call(d).slice(8,-1)} is not a valid path parameter`})),u+h+(f===r.length?"":m)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(a))!==null;)i.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(i.sort((u,h)=>u.start-h.start),i.length>0){let u=0;const h=i.reduce((f,d)=>{const m=" ".repeat(d.start-u),w="^".repeat(d.length);return u=d.start+d.length,f+m+w},"");throw new Z(`Path parameters result in path with invalid segments:
${i.map(f=>f.error).join(`
`)}
${o}
${h}`)}return o},Ce=Aw(dd);class fd extends yt{list(e={},s){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/files",nn,{query:n,...s,headers:se([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},s?.headers])})}delete(e,s={},r){const{betas:n}=s??{};return this._client.delete(Ce`/v1/files/${e}`,{...r,headers:se([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}download(e,s={},r){const{betas:n}=s??{};return this._client.get(Ce`/v1/files/${e}/content`,{...r,headers:se([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}retrieveMetadata(e,s={},r){const{betas:n}=s??{};return this._client.get(Ce`/v1/files/${e}`,{...r,headers:se([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}upload(e,s){const{betas:r,...n}=e;return this._client.post("/v1/files",Ra({body:n,...s,headers:se([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},s?.headers])},this._client))}}let pd=class extends yt{retrieve(e,s={},r){const{betas:n}=s??{};return this._client.get(Ce`/v1/models/${e}?beta=true`,{...r,headers:se([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}list(e={},s){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/models?beta=true",nn,{query:n,...s,headers:se([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},s?.headers])})}};class Oi{constructor(e,s){this.iterator=e,this.controller=s}async*decoder(){const e=new rn;for await(const s of this.iterator)for(const r of e.decode(s))yield JSON.parse(r);for(const s of e.flush())yield JSON.parse(s)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,s){if(!e.body)throw s.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Z("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Z("Attempted to iterate over a response with no body");return new Oi(ka(e.body),s)}}let gd=class extends yt{create(e,s){const{betas:r,...n}=e;return this._client.post("/v1/messages/batches?beta=true",{body:n,...s,headers:se([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},s?.headers])})}retrieve(e,s={},r){const{betas:n}=s??{};return this._client.get(Ce`/v1/messages/batches/${e}?beta=true`,{...r,headers:se([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}list(e={},s){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",nn,{query:n,...s,headers:se([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},s?.headers])})}delete(e,s={},r){const{betas:n}=s??{};return this._client.delete(Ce`/v1/messages/batches/${e}?beta=true`,{...r,headers:se([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}cancel(e,s={},r){const{betas:n}=s??{};return this._client.post(Ce`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:se([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}async results(e,s={},r){const n=await this.retrieve(e);if(!n.results_url)throw new Z(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);const{betas:i}=s??{};return this._client.get(n.results_url,{...r,headers:se([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((o,a)=>Oi.fromResponse(a.response,a.controller))}};const xw=t=>{let e=0,s=[];for(;e<t.length;){let r=t[e];if(r==="\\"){e++;continue}if(r==="{"){s.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){s.push({type:"brace",value:"}"}),e++;continue}if(r==="["){s.push({type:"paren",value:"["}),e++;continue}if(r==="]"){s.push({type:"paren",value:"]"}),e++;continue}if(r===":"){s.push({type:"separator",value:":"}),e++;continue}if(r===","){s.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let a="",l=!1;for(r=t[++e];r!=='"';){if(e===t.length){l=!0;break}if(r==="\\"){if(e++,e===t.length){l=!0;break}a+=r+t[e],r=t[++e]}else a+=r,r=t[++e]}r=t[++e],l||s.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){e++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let a="";for(r==="-"&&(a+=r,r=t[++e]);r&&i.test(r)||r===".";)a+=r,r=t[++e];s.push({type:"number",value:a});continue}let o=/[a-z]/i;if(r&&o.test(r)){let a="";for(;r&&o.test(r)&&e!==t.length;)a+=r,r=t[++e];if(a=="true"||a=="false"||a==="null")s.push({type:"name",value:a});else{e++;continue}continue}e++}return s},Vs=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),Vs(t);case"number":let s=e.value[e.value.length-1];if(s==="."||s==="-")return t=t.slice(0,t.length-1),Vs(t);case"string":let r=t[t.length-2];if(r?.type==="delimiter")return t=t.slice(0,t.length-1),Vs(t);if(r?.type==="brace"&&r.value==="{")return t=t.slice(0,t.length-1),Vs(t);break;case"delimiter":return t=t.slice(0,t.length-1),Vs(t)}return t},Pw=t=>{let e=[];return t.map(s=>{s.type==="brace"&&(s.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),s.type==="paren"&&(s.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(s=>{s==="}"?t.push({type:"brace",value:"}"}):s==="]"&&t.push({type:"paren",value:"]"})}),t},Cw=t=>{let e="";return t.map(s=>{switch(s.type){case"string":e+='"'+s.value+'"';break;default:e+=s.value;break}}),e},md=t=>JSON.parse(Cw(Pw(Vs(xw(t)))));var nt,Gt,dr,vn,fr,pr,Sn,gr,jt,mr,En,kn,Ns,On,Rn,Yi,pc,Tn,Zi,eo,to,gc;const mc="__json_buf";function _c(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}class ni{constructor(){nt.add(this),this.messages=[],this.receivedMessages=[],Gt.set(this,void 0),this.controller=new AbortController,dr.set(this,void 0),vn.set(this,()=>{}),fr.set(this,()=>{}),pr.set(this,void 0),Sn.set(this,()=>{}),gr.set(this,()=>{}),jt.set(this,{}),mr.set(this,!1),En.set(this,!1),kn.set(this,!1),Ns.set(this,!1),On.set(this,void 0),Rn.set(this,void 0),Tn.set(this,e=>{if(U(this,En,!0),Xr(e)&&(e=new gt),e instanceof gt)return U(this,kn,!0),this._emit("abort",e);if(e instanceof Z)return this._emit("error",e);if(e instanceof Error){const s=new Z(e.message);return s.cause=e,this._emit("error",s)}return this._emit("error",new Z(String(e)))}),U(this,dr,new Promise((e,s)=>{U(this,vn,e,"f"),U(this,fr,s,"f")})),U(this,pr,new Promise((e,s)=>{U(this,Sn,e,"f"),U(this,gr,s,"f")})),v(this,dr,"f").catch(()=>{}),v(this,pr,"f").catch(()=>{})}get response(){return v(this,On,"f")}get request_id(){return v(this,Rn,"f")}async withResponse(){const e=await v(this,dr,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const s=new ni;return s._run(()=>s._fromReadableStream(e)),s}static createMessage(e,s,r){const n=new ni;for(const i of s.messages)n._addMessageParam(i);return n._run(()=>n._createMessage(e,{...s,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},v(this,Tn,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,s=!0){this.receivedMessages.push(e),s&&this._emit("message",e)}async _createMessage(e,s,r){const n=r?.signal;let i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{v(this,nt,"m",Zi).call(this);const{response:o,data:a}=await e.create({...s,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const l of a)v(this,nt,"m",eo).call(this,l);if(a.controller.signal?.aborted)throw new gt;v(this,nt,"m",to).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}_connected(e){this.ended||(U(this,On,e),U(this,Rn,e?.headers.get("request-id")),v(this,vn,"f").call(this,e),this._emit("connect"))}get ended(){return v(this,mr,"f")}get errored(){return v(this,En,"f")}get aborted(){return v(this,kn,"f")}abort(){this.controller.abort()}on(e,s){return(v(this,jt,"f")[e]||(v(this,jt,"f")[e]=[])).push({listener:s}),this}off(e,s){const r=v(this,jt,"f")[e];if(!r)return this;const n=r.findIndex(i=>i.listener===s);return n>=0&&r.splice(n,1),this}once(e,s){return(v(this,jt,"f")[e]||(v(this,jt,"f")[e]=[])).push({listener:s,once:!0}),this}emitted(e){return new Promise((s,r)=>{U(this,Ns,!0),e!=="error"&&this.once("error",r),this.once(e,s)})}async done(){U(this,Ns,!0),await v(this,pr,"f")}get currentMessage(){return v(this,Gt,"f")}async finalMessage(){return await this.done(),v(this,nt,"m",Yi).call(this)}async finalText(){return await this.done(),v(this,nt,"m",pc).call(this)}_emit(e,...s){if(v(this,mr,"f"))return;e==="end"&&(U(this,mr,!0),v(this,Sn,"f").call(this));const r=v(this,jt,"f")[e];if(r&&(v(this,jt,"f")[e]=r.filter(n=>!n.once),r.forEach(({listener:n})=>n(...s))),e==="abort"){const n=s[0];!v(this,Ns,"f")&&!r?.length&&Promise.reject(n),v(this,fr,"f").call(this,n),v(this,gr,"f").call(this,n),this._emit("end");return}if(e==="error"){const n=s[0];!v(this,Ns,"f")&&!r?.length&&Promise.reject(n),v(this,fr,"f").call(this,n),v(this,gr,"f").call(this,n),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",v(this,nt,"m",Yi).call(this))}async _fromReadableStream(e,s){const r=s?.signal;let n;r&&(r.aborted&&this.controller.abort(),n=this.controller.abort.bind(this.controller),r.addEventListener("abort",n));try{v(this,nt,"m",Zi).call(this),this._connected(null);const i=Tt.fromReadableStream(e,this.controller);for await(const o of i)v(this,nt,"m",eo).call(this,o);if(i.controller.signal?.aborted)throw new gt;v(this,nt,"m",to).call(this)}finally{r&&n&&r.removeEventListener("abort",n)}}[(Gt=new WeakMap,dr=new WeakMap,vn=new WeakMap,fr=new WeakMap,pr=new WeakMap,Sn=new WeakMap,gr=new WeakMap,jt=new WeakMap,mr=new WeakMap,En=new WeakMap,kn=new WeakMap,Ns=new WeakMap,On=new WeakMap,Rn=new WeakMap,Tn=new WeakMap,nt=new WeakSet,Yi=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},pc=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");const s=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(s.length===0)throw new Z("stream ended without producing a content block with type=text");return s.join(" ")},Zi=function(){this.ended||U(this,Gt,void 0)},eo=function(s){if(this.ended)return;const r=v(this,nt,"m",gc).call(this,s);switch(this._emit("streamEvent",s,r),s.type){case"content_block_delta":{const n=r.content.at(-1);switch(s.delta.type){case"text_delta":{n.type==="text"&&this._emit("text",s.delta.text,n.text||"");break}case"citations_delta":{n.type==="text"&&this._emit("citation",s.delta.citation,n.citations??[]);break}case"input_json_delta":{_c(n)&&n.input&&this._emit("inputJson",s.delta.partial_json,n.input);break}case"thinking_delta":{n.type==="thinking"&&this._emit("thinking",s.delta.thinking,n.thinking);break}case"signature_delta":{n.type==="thinking"&&this._emit("signature",n.signature);break}default:s.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{U(this,Gt,r);break}}},to=function(){if(this.ended)throw new Z("stream has ended, this shouldn't happen");const s=v(this,Gt,"f");if(!s)throw new Z("request ended without sending any chunks");return U(this,Gt,void 0),s},gc=function(s){let r=v(this,Gt,"f");if(s.type==="message_start"){if(r)throw new Z(`Unexpected event order, got ${s.type} before receiving "message_stop"`);return s.message}if(!r)throw new Z(`Unexpected event order, got ${s.type} before "message_start"`);switch(s.type){case"message_stop":return r;case"message_delta":return r.container=s.delta.container,r.stop_reason=s.delta.stop_reason,r.stop_sequence=s.delta.stop_sequence,r.usage.output_tokens=s.usage.output_tokens,r.context_management=s.context_management,s.usage.input_tokens!=null&&(r.usage.input_tokens=s.usage.input_tokens),s.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=s.usage.cache_creation_input_tokens),s.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=s.usage.cache_read_input_tokens),s.usage.server_tool_use!=null&&(r.usage.server_tool_use=s.usage.server_tool_use),r;case"content_block_start":return r.content.push(s.content_block),r;case"content_block_delta":{const n=r.content.at(s.index);switch(s.delta.type){case"text_delta":{n?.type==="text"&&(r.content[s.index]={...n,text:(n.text||"")+s.delta.text});break}case"citations_delta":{n?.type==="text"&&(r.content[s.index]={...n,citations:[...n.citations??[],s.delta.citation]});break}case"input_json_delta":{if(n&&_c(n)){let i=n[mc]||"";i+=s.delta.partial_json;const o={...n};if(Object.defineProperty(o,mc,{value:i,enumerable:!1,writable:!0}),i)try{o.input=md(i)}catch(a){const l=new Z(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${i}`);v(this,Tn,"f").call(this,l)}r.content[s.index]=o}break}case"thinking_delta":{n?.type==="thinking"&&(r.content[s.index]={...n,thinking:n.thinking+s.delta.thinking});break}case"signature_delta":{n?.type==="thinking"&&(r.content[s.index]={...n,signature:s.delta.signature});break}default:s.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],s=[];let r=!1;return this.on("streamEvent",n=>{const i=s.shift();i?i.resolve(n):e.push(n)}),this.on("end",()=>{r=!0;for(const n of s)n.resolve(void 0);s.length=0}),this.on("abort",n=>{r=!0;for(const i of s)i.reject(n);s.length=0}),this.on("error",n=>{r=!0;for(const i of s)i.reject(n);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Tt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const _d={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};var An,Ms,fs,Ke,_r,ct,Ut,Jt,yr,Wo;function yc(){let t,e;return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}}class yd{constructor(e,s,r){An.add(this),this.client=e,Ms.set(this,!1),fs.set(this,!1),Ke.set(this,void 0),_r.set(this,void 0),ct.set(this,void 0),Ut.set(this,void 0),Jt.set(this,void 0),yr.set(this,0),U(this,Ke,{params:{...s,messages:structuredClone(s.messages)}}),U(this,_r,{...r,headers:se([{"x-stainless-helper":"BetaToolRunner"},r?.headers])}),U(this,Jt,yc())}async*[(Ms=new WeakMap,fs=new WeakMap,Ke=new WeakMap,_r=new WeakMap,ct=new WeakMap,Ut=new WeakMap,Jt=new WeakMap,yr=new WeakMap,An=new WeakSet,Symbol.asyncIterator)](){var e;if(v(this,Ms,"f"))throw new Z("Cannot iterate over a consumed stream");U(this,Ms,!0),U(this,fs,!0),U(this,Ut,void 0);try{for(;;){let s;try{if(v(this,Ke,"f").params.max_iterations&&v(this,yr,"f")>=v(this,Ke,"f").params.max_iterations)break;U(this,fs,!1,"f"),U(this,ct,void 0,"f"),U(this,Ut,void 0,"f"),U(this,yr,(e=v(this,yr,"f"),e++,e),"f");const{max_iterations:r,...n}=v(this,Ke,"f").params;if(n.stream?(s=this.client.beta.messages.stream({...n},v(this,_r,"f")),U(this,ct,s.finalMessage(),"f"),v(this,ct,"f").catch(()=>{}),yield s):(U(this,ct,this.client.beta.messages.create({...n,stream:!1},v(this,_r,"f")),"f"),yield v(this,ct,"f")),!v(this,fs,"f")){const{role:o,content:a}=await v(this,ct,"f");v(this,Ke,"f").params.messages.push({role:o,content:a})}const i=await v(this,An,"m",Wo).call(this,v(this,Ke,"f").params.messages.at(-1));if(i&&v(this,Ke,"f").params.messages.push(i),!i&&!v(this,fs,"f"))break}finally{s&&s.abort()}}if(!v(this,ct,"f"))throw new Z("ToolRunner concluded without a message from the server");v(this,Jt,"f").resolve(await v(this,ct,"f"))}catch(s){throw U(this,Ms,!1),v(this,Jt,"f").promise.catch(()=>{}),v(this,Jt,"f").reject(s),U(this,Jt,yc()),s}}setMessagesParams(e){typeof e=="function"?v(this,Ke,"f").params=e(v(this,Ke,"f").params):v(this,Ke,"f").params=e,U(this,fs,!0),U(this,Ut,void 0)}async generateToolResponse(){const e=await v(this,ct,"f")??this.params.messages.at(-1);return e?v(this,An,"m",Wo).call(this,e):null}done(){return v(this,Jt,"f").promise}async runUntilDone(){if(!v(this,Ms,"f"))for await(const e of this);return this.done()}get params(){return v(this,Ke,"f").params}pushMessages(...e){this.setMessagesParams(s=>({...s,messages:[...s.messages,...e]}))}then(e,s){return this.runUntilDone().then(e,s)}}Wo=async function(e){return v(this,Ut,"f")!==void 0?v(this,Ut,"f"):(U(this,Ut,Iw(v(this,Ke,"f").params,e)),v(this,Ut,"f"))};async function Iw(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;const s=e.content.filter(n=>n.type==="tool_use");return s.length===0?null:{role:"user",content:await Promise.all(s.map(async n=>{const i=t.tools.find(o=>o.name===n.name);if(!i||!("run"in i))return{type:"tool_result",tool_use_id:n.id,content:`Error: Tool '${n.name}' not found`,is_error:!0};try{let o=n.input;"parse"in i&&i.parse&&(o=i.parse(o));const a=await i.run(o);return{type:"tool_result",tool_use_id:n.id,content:a}}catch(o){return{type:"tool_result",tool_use_id:n.id,content:`Error: ${o instanceof Error?o.message:String(o)}`,is_error:!0}}}))}}const wc={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};let Ri=class extends yt{constructor(){super(...arguments),this.batches=new gd(this._client)}create(e,s){const{betas:r,...n}=e;n.model in wc&&console.warn(`The model '${n.model}' is deprecated and will reach end-of-life on ${wc[n.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let i=this._client._options.timeout;if(!n.stream&&i==null){const o=_d[n.model]??void 0;i=this._client.calculateNonstreamingTimeout(n.max_tokens,o)}return this._client.post("/v1/messages?beta=true",{body:n,timeout:i??6e5,...s,headers:se([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},s?.headers]),stream:e.stream??!1})}stream(e,s){return ni.createMessage(this,e,s)}countTokens(e,s){const{betas:r,...n}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:n,...s,headers:se([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},s?.headers])})}toolRunner(e,s){return new yd(this._client,e,s)}};Ri.Batches=gd;Ri.BetaToolRunner=yd;class wd extends yt{create(e,s={},r){const{betas:n,...i}=s??{};return this._client.post(Ce`/v1/skills/${e}/versions?beta=true`,Ra({body:i,...r,headers:se([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])},this._client))}retrieve(e,s,r){const{skill_id:n,betas:i}=s;return this._client.get(Ce`/v1/skills/${n}/versions/${e}?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r?.headers])})}list(e,s={},r){const{betas:n,...i}=s??{};return this._client.getAPIList(Ce`/v1/skills/${e}/versions?beta=true`,ad,{query:i,...r,headers:se([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])})}delete(e,s,r){const{skill_id:n,betas:i}=s;return this._client.delete(Ce`/v1/skills/${n}/versions/${e}?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r?.headers])})}}class Ta extends yt{constructor(){super(...arguments),this.versions=new wd(this._client)}create(e={},s){const{betas:r,...n}=e??{};return this._client.post("/v1/skills?beta=true",Ra({body:n,...s,headers:se([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},s?.headers])},this._client))}retrieve(e,s={},r){const{betas:n}=s??{};return this._client.get(Ce`/v1/skills/${e}?beta=true`,{...r,headers:se([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])})}list(e={},s){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/skills?beta=true",ad,{query:n,...s,headers:se([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},s?.headers])})}delete(e,s={},r){const{betas:n}=s??{};return this._client.delete(Ce`/v1/skills/${e}?beta=true`,{...r,headers:se([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])})}}Ta.Versions=wd;class or extends yt{constructor(){super(...arguments),this.models=new pd(this._client),this.messages=new Ri(this._client),this.files=new fd(this._client),this.skills=new Ta(this._client)}}or.Models=pd;or.Messages=Ri;or.Files=fd;or.Skills=Ta;class bd extends yt{create(e,s){const{betas:r,...n}=e;return this._client.post("/v1/complete",{body:n,timeout:this._client._options.timeout??6e5,...s,headers:se([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},s?.headers]),stream:e.stream??!1})}}var it,zt,wr,xn,br,vr,Pn,Sr,$t,Er,Cn,In,Ls,jn,$n,so,bc,ro,no,io,oo,vc;const Sc="__json_buf";function Ec(t){return t.type==="tool_use"||t.type==="server_tool_use"}class ii{constructor(){it.add(this),this.messages=[],this.receivedMessages=[],zt.set(this,void 0),this.controller=new AbortController,wr.set(this,void 0),xn.set(this,()=>{}),br.set(this,()=>{}),vr.set(this,void 0),Pn.set(this,()=>{}),Sr.set(this,()=>{}),$t.set(this,{}),Er.set(this,!1),Cn.set(this,!1),In.set(this,!1),Ls.set(this,!1),jn.set(this,void 0),$n.set(this,void 0),ro.set(this,e=>{if(U(this,Cn,!0),Xr(e)&&(e=new gt),e instanceof gt)return U(this,In,!0),this._emit("abort",e);if(e instanceof Z)return this._emit("error",e);if(e instanceof Error){const s=new Z(e.message);return s.cause=e,this._emit("error",s)}return this._emit("error",new Z(String(e)))}),U(this,wr,new Promise((e,s)=>{U(this,xn,e,"f"),U(this,br,s,"f")})),U(this,vr,new Promise((e,s)=>{U(this,Pn,e,"f"),U(this,Sr,s,"f")})),v(this,wr,"f").catch(()=>{}),v(this,vr,"f").catch(()=>{})}get response(){return v(this,jn,"f")}get request_id(){return v(this,$n,"f")}async withResponse(){const e=await v(this,wr,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const s=new ii;return s._run(()=>s._fromReadableStream(e)),s}static createMessage(e,s,r){const n=new ii;for(const i of s.messages)n._addMessageParam(i);return n._run(()=>n._createMessage(e,{...s,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},v(this,ro,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,s=!0){this.receivedMessages.push(e),s&&this._emit("message",e)}async _createMessage(e,s,r){const n=r?.signal;let i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{v(this,it,"m",no).call(this);const{response:o,data:a}=await e.create({...s,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const l of a)v(this,it,"m",io).call(this,l);if(a.controller.signal?.aborted)throw new gt;v(this,it,"m",oo).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}_connected(e){this.ended||(U(this,jn,e),U(this,$n,e?.headers.get("request-id")),v(this,xn,"f").call(this,e),this._emit("connect"))}get ended(){return v(this,Er,"f")}get errored(){return v(this,Cn,"f")}get aborted(){return v(this,In,"f")}abort(){this.controller.abort()}on(e,s){return(v(this,$t,"f")[e]||(v(this,$t,"f")[e]=[])).push({listener:s}),this}off(e,s){const r=v(this,$t,"f")[e];if(!r)return this;const n=r.findIndex(i=>i.listener===s);return n>=0&&r.splice(n,1),this}once(e,s){return(v(this,$t,"f")[e]||(v(this,$t,"f")[e]=[])).push({listener:s,once:!0}),this}emitted(e){return new Promise((s,r)=>{U(this,Ls,!0),e!=="error"&&this.once("error",r),this.once(e,s)})}async done(){U(this,Ls,!0),await v(this,vr,"f")}get currentMessage(){return v(this,zt,"f")}async finalMessage(){return await this.done(),v(this,it,"m",so).call(this)}async finalText(){return await this.done(),v(this,it,"m",bc).call(this)}_emit(e,...s){if(v(this,Er,"f"))return;e==="end"&&(U(this,Er,!0),v(this,Pn,"f").call(this));const r=v(this,$t,"f")[e];if(r&&(v(this,$t,"f")[e]=r.filter(n=>!n.once),r.forEach(({listener:n})=>n(...s))),e==="abort"){const n=s[0];!v(this,Ls,"f")&&!r?.length&&Promise.reject(n),v(this,br,"f").call(this,n),v(this,Sr,"f").call(this,n),this._emit("end");return}if(e==="error"){const n=s[0];!v(this,Ls,"f")&&!r?.length&&Promise.reject(n),v(this,br,"f").call(this,n),v(this,Sr,"f").call(this,n),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",v(this,it,"m",so).call(this))}async _fromReadableStream(e,s){const r=s?.signal;let n;r&&(r.aborted&&this.controller.abort(),n=this.controller.abort.bind(this.controller),r.addEventListener("abort",n));try{v(this,it,"m",no).call(this),this._connected(null);const i=Tt.fromReadableStream(e,this.controller);for await(const o of i)v(this,it,"m",io).call(this,o);if(i.controller.signal?.aborted)throw new gt;v(this,it,"m",oo).call(this)}finally{r&&n&&r.removeEventListener("abort",n)}}[(zt=new WeakMap,wr=new WeakMap,xn=new WeakMap,br=new WeakMap,vr=new WeakMap,Pn=new WeakMap,Sr=new WeakMap,$t=new WeakMap,Er=new WeakMap,Cn=new WeakMap,In=new WeakMap,Ls=new WeakMap,jn=new WeakMap,$n=new WeakMap,ro=new WeakMap,it=new WeakSet,so=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},bc=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");const s=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(s.length===0)throw new Z("stream ended without producing a content block with type=text");return s.join(" ")},no=function(){this.ended||U(this,zt,void 0)},io=function(s){if(this.ended)return;const r=v(this,it,"m",vc).call(this,s);switch(this._emit("streamEvent",s,r),s.type){case"content_block_delta":{const n=r.content.at(-1);switch(s.delta.type){case"text_delta":{n.type==="text"&&this._emit("text",s.delta.text,n.text||"");break}case"citations_delta":{n.type==="text"&&this._emit("citation",s.delta.citation,n.citations??[]);break}case"input_json_delta":{Ec(n)&&n.input&&this._emit("inputJson",s.delta.partial_json,n.input);break}case"thinking_delta":{n.type==="thinking"&&this._emit("thinking",s.delta.thinking,n.thinking);break}case"signature_delta":{n.type==="thinking"&&this._emit("signature",n.signature);break}default:s.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{U(this,zt,r);break}}},oo=function(){if(this.ended)throw new Z("stream has ended, this shouldn't happen");const s=v(this,zt,"f");if(!s)throw new Z("request ended without sending any chunks");return U(this,zt,void 0),s},vc=function(s){let r=v(this,zt,"f");if(s.type==="message_start"){if(r)throw new Z(`Unexpected event order, got ${s.type} before receiving "message_stop"`);return s.message}if(!r)throw new Z(`Unexpected event order, got ${s.type} before "message_start"`);switch(s.type){case"message_stop":return r;case"message_delta":return r.stop_reason=s.delta.stop_reason,r.stop_sequence=s.delta.stop_sequence,r.usage.output_tokens=s.usage.output_tokens,s.usage.input_tokens!=null&&(r.usage.input_tokens=s.usage.input_tokens),s.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=s.usage.cache_creation_input_tokens),s.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=s.usage.cache_read_input_tokens),s.usage.server_tool_use!=null&&(r.usage.server_tool_use=s.usage.server_tool_use),r;case"content_block_start":return r.content.push({...s.content_block}),r;case"content_block_delta":{const n=r.content.at(s.index);switch(s.delta.type){case"text_delta":{n?.type==="text"&&(r.content[s.index]={...n,text:(n.text||"")+s.delta.text});break}case"citations_delta":{n?.type==="text"&&(r.content[s.index]={...n,citations:[...n.citations??[],s.delta.citation]});break}case"input_json_delta":{if(n&&Ec(n)){let i=n[Sc]||"";i+=s.delta.partial_json;const o={...n};Object.defineProperty(o,Sc,{value:i,enumerable:!1,writable:!0}),i&&(o.input=md(i)),r.content[s.index]=o}break}case"thinking_delta":{n?.type==="thinking"&&(r.content[s.index]={...n,thinking:n.thinking+s.delta.thinking});break}case"signature_delta":{n?.type==="thinking"&&(r.content[s.index]={...n,signature:s.delta.signature});break}default:s.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],s=[];let r=!1;return this.on("streamEvent",n=>{const i=s.shift();i?i.resolve(n):e.push(n)}),this.on("end",()=>{r=!0;for(const n of s)n.resolve(void 0);s.length=0}),this.on("abort",n=>{r=!0;for(const i of s)i.reject(n);s.length=0}),this.on("error",n=>{r=!0;for(const i of s)i.reject(n);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Tt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class vd extends yt{create(e,s){return this._client.post("/v1/messages/batches",{body:e,...s})}retrieve(e,s){return this._client.get(Ce`/v1/messages/batches/${e}`,s)}list(e={},s){return this._client.getAPIList("/v1/messages/batches",nn,{query:e,...s})}delete(e,s){return this._client.delete(Ce`/v1/messages/batches/${e}`,s)}cancel(e,s){return this._client.post(Ce`/v1/messages/batches/${e}/cancel`,s)}async results(e,s){const r=await this.retrieve(e);if(!r.results_url)throw new Z(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...s,headers:se([{Accept:"application/binary"},s?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((n,i)=>Oi.fromResponse(i.response,i.controller))}}class Aa extends yt{constructor(){super(...arguments),this.batches=new vd(this._client)}create(e,s){e.model in kc&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${kc[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&r==null){const n=_d[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,n)}return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...s,stream:e.stream??!1})}stream(e,s){return ii.createMessage(this,e,s)}countTokens(e,s){return this._client.post("/v1/messages/count_tokens",{body:e,...s})}}const kc={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};Aa.Batches=vd;class Sd extends yt{retrieve(e,s={},r){const{betas:n}=s??{};return this._client.get(Ce`/v1/models/${e}`,{...r,headers:se([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}list(e={},s){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/models",nn,{query:n,...s,headers:se([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},s?.headers])})}}var jw={};const Nn=t=>{if(typeof globalThis.process<"u")return jw?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Vo,xa,qn,Ed;const $w="\\n\\nHuman:",Nw="\\n\\nAssistant:";class Re{constructor({baseURL:e=Nn("ANTHROPIC_BASE_URL"),apiKey:s=Nn("ANTHROPIC_API_KEY")??null,authToken:r=Nn("ANTHROPIC_AUTH_TOKEN")??null,...n}={}){Vo.add(this),qn.set(this,void 0);const i={apiKey:s,authToken:r,...n,baseURL:e||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&rw())throw new Z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=i.baseURL,this.timeout=i.timeout??xa.DEFAULT_TIMEOUT,this.logger=i.logger??console;const o="warn";this.logLevel=o,this.logLevel=uc(i.logLevel,"ClientOptions.logLevel",this)??uc(Nn("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??o,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??lw(),U(this,qn,uw),this._options=i,this.apiKey=s,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:s}){if(!(this.apiKey&&e.get("x-api-key"))&&!s.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!s.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return se([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return se([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return se([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([s,r])=>typeof r<"u").map(([s,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(s)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(s)}=`;throw new Z(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ws}`}defaultIdempotencyKey(){return`stainless-node-retry-${Hh()}`}makeStatusError(e,s,r,n){return De.generate(e,s,r,n)}buildURL(e,s,r){const n=!v(this,Vo,"m",Ed).call(this)&&r||this.baseURL,i=Yy(e)?new URL(e):new URL(n+(n.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Zy(o)||(s={...o,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(i.search=this.stringifyQuery(s)),i.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new Z("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:s,options:r}){}get(e,s){return this.methodRequest("get",e,s)}post(e,s){return this.methodRequest("post",e,s)}patch(e,s){return this.methodRequest("patch",e,s)}put(e,s){return this.methodRequest("put",e,s)}delete(e,s){return this.methodRequest("delete",e,s)}methodRequest(e,s,r){return this.request(Promise.resolve(r).then(n=>({method:e,path:s,...n})))}request(e,s=null){return new ki(this,this.makeRequest(e,s,void 0))}async makeRequest(e,s,r){const n=await e,i=n.maxRetries??this.maxRetries;s==null&&(s=i),await this.prepareOptions(n);const{req:o,url:a,timeout:l}=await this.buildRequest(n,{retryCount:i-s});await this.prepareRequest(o,{url:a,options:n});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,h=Date.now();if(Be(this).debug(`[${c}] sending request`,ms({retryOfRequestLogID:r,method:n.method,url:a,options:n,headers:o.headers})),n.signal?.aborted)throw new gt;const f=new AbortController,d=await this.fetchWithTimeout(a,o,l,f).catch(Do),m=Date.now();if(d instanceof globalThis.Error){const E=`retrying, ${s} attempts remaining`;if(n.signal?.aborted)throw new gt;const _=Xr(d)||/timed? ?out/i.test(String(d)+("cause"in d?String(d.cause):""));if(s)return Be(this).info(`[${c}] connection ${_?"timed out":"failed"} - ${E}`),Be(this).debug(`[${c}] connection ${_?"timed out":"failed"} (${E})`,ms({retryOfRequestLogID:r,url:a,durationMs:m-h,message:d.message})),this.retryRequest(n,s,r??c);throw Be(this).info(`[${c}] connection ${_?"timed out":"failed"} - error; no more retries left`),Be(this).debug(`[${c}] connection ${_?"timed out":"failed"} (error; no more retries left)`,ms({retryOfRequestLogID:r,url:a,durationMs:m-h,message:d.message})),_?new Kh:new Ei({cause:d})}const w=[...d.headers.entries()].filter(([E])=>E==="request-id").map(([E,_])=>", "+E+": "+JSON.stringify(_)).join(""),S=`[${c}${u}${w}] ${o.method} ${a} ${d.ok?"succeeded":"failed"} with status ${d.status} in ${m-h}ms`;if(!d.ok){const E=await this.shouldRetry(d);if(s&&E){const q=`retrying, ${s} attempts remaining`;return await cw(d.body),Be(this).info(`${S} - ${q}`),Be(this).debug(`[${c}] response error (${q})`,ms({retryOfRequestLogID:r,url:d.url,status:d.status,headers:d.headers,durationMs:m-h})),this.retryRequest(n,s,r??c,d.headers)}const _=E?"error; no more retries left":"error; not retryable";Be(this).info(`${S} - ${_}`);const b=await d.text().catch(q=>Do(q).message),k=td(b),C=k?void 0:b;throw Be(this).debug(`[${c}] response error (${_})`,ms({retryOfRequestLogID:r,url:d.url,status:d.status,headers:d.headers,message:C,durationMs:Date.now()-h})),this.makeStatusError(d.status,k,C,d.headers)}return Be(this).info(S),Be(this).debug(`[${c}] response start`,ms({retryOfRequestLogID:r,url:d.url,status:d.status,headers:d.headers,durationMs:m-h})),{response:d,options:n,controller:f,requestLogID:c,retryOfRequestLogID:r,startTime:h}}getAPIList(e,s,r){return this.requestAPIList(s,{method:"get",path:e,...r})}requestAPIList(e,s){const r=this.makeRequest(s,null,void 0);return new ww(this,r,e)}async fetchWithTimeout(e,s,r,n){const{signal:i,method:o,...a}=s||{};i&&i.addEventListener("abort",()=>n.abort());const l=setTimeout(()=>n.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:n.signal,...c?{duplex:"half"}:{},method:"GET",...a};o&&(u.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(l)}}async shouldRetry(e){const s=e.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,s,r,n){let i;const o=n?.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(i=l)}const a=n?.get("retry-after");if(a&&!i){const l=parseFloat(a);Number.isNaN(l)?i=Date.parse(a)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(s,l)}return await sw(i),this.makeRequest(e,s-1,r)}calculateDefaultRetryTimeoutMillis(e,s){const i=s-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}calculateNonstreamingTimeout(e,s){if(36e5*e/128e3>6e5||s!=null&&e>s)throw new Z("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:s=0}={}){const r={...e},{method:n,path:i,query:o,defaultBaseURL:a}=r,l=this.buildURL(i,o,a);"timeout"in r&&tw("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:r}),h=await this.buildHeaders({options:e,method:n,bodyHeaders:c,retryCount:s});return{req:{method:n,headers:h,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:s,bodyHeaders:r,retryCount:n}){let i={};this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=se([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(n),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...aw(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:s}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=se([s]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:rd(e)}:v(this,qn,"f").call(this,{body:e,headers:r})}}xa=Re,qn=new WeakMap,Vo=new WeakSet,Ed=function(){return this.baseURL!=="https://api.anthropic.com"};Re.Anthropic=xa;Re.HUMAN_PROMPT=$w;Re.AI_PROMPT=Nw;Re.DEFAULT_TIMEOUT=6e5;Re.AnthropicError=Z;Re.APIError=De;Re.APIConnectionError=Ei;Re.APIConnectionTimeoutError=Kh;Re.APIUserAbortError=gt;Re.NotFoundError=Xh;Re.ConflictError=Qh;Re.RateLimitError=Zh;Re.BadRequestError=Gh;Re.AuthenticationError=Jh;Re.InternalServerError=ed;Re.PermissionDeniedError=zh;Re.UnprocessableEntityError=Yh;Re.toFile=Ow;class on extends Re{constructor(){super(...arguments),this.completions=new bd(this),this.messages=new Aa(this),this.models=new Sd(this),this.beta=new or(this)}}on.Completions=bd;on.Messages=Aa;on.Models=Sd;on.Beta=or;const Mw={class:"test-container"},Lw={class:"header"},Dw={class:"progress"},Uw={key:0,class:"loading"},Bw={key:1,class:"question-card"},qw={class:"question-number"},Fw={class:"question-text"},Ww={class:"options"},Vw=["onClick"],Hw={class:"option-number"},Kw={class:"option-text"},Gw={class:"navigation"},Jw=["disabled"],zw=["disabled"],Xw={key:2,class:"auto-save"},Qw={__name:"TestView",setup(t){const e=fa(),s=Ea(),r=be([]),n=be(0),i=be([]),o=be(!0),a=be(!1),l=be(null),c=be(null),u=Me(()=>{const _=r.value[n.value];return _?{..._,options:[_.option_a,_.option_b,_.option_c,_.option_d]}:null}),h=_=>{if(!(o.value||a.value)){if(["1","2","3","4"].includes(_.key)){const b=parseInt(_.key)-1;d(b)}_.key==="ArrowLeft"?w():_.key==="ArrowRight"&&m(),_.key==="Enter"&&n.value===r.value.length-1&&S()}};Js([i,n],()=>{!l.value||o.value||(c.value&&clearTimeout(c.value),c.value=setTimeout(async()=>{try{await ft.from("test_progress").update({current_index:n.value,answers:i.value,updated_at:new Date().toISOString()}).eq("id",l.value),console.log("✅ 자동 저장 완료")}catch(_){console.error("저장 실패:",_)}},1e3))},{deep:!0}),pi(async()=>{window.addEventListener("keydown",h);try{console.log("학생 ID:",s.student?.id);const{data:_,error:b}=await ft.from("questions").select("*").order("id");if(b)throw b;if(!_||_.length===0)throw new Error("문제가 없습니다");r.value=_,console.log("✅ 문제 로딩:",r.value.length);const{data:k,error:C}=await ft.from("test_progress").select().eq("student_id",s.student.id).maybeSingle();C&&console.error("진행 상황 조회 에러:",C),k?confirm(`이전에 풀던 테스트가 있습니다.
문제 ${k.current_index+1}번부터 이어서 하시겠습니까?`)?(l.value=k.id,n.value=k.current_index,i.value=k.answers,console.log("✅ 이어하기:",n.value+1,"번 문제부터")):(await ft.from("test_progress").delete().eq("id",k.id),i.value=Array(r.value.length).fill(null),await f()):(i.value=Array(r.value.length).fill(null),await f()),o.value=!1}catch(_){console.error("❌ 초기화 실패:",_),alert(`오류가 발생했습니다.

${_.message}`),o.value=!1}}),aa(()=>{window.removeEventListener("keydown",h),c.value&&clearTimeout(c.value)});const f=async()=>{try{const{data:_,error:b}=await ft.from("test_progress").insert({student_id:s.student.id,current_index:0,answers:i.value}).select().single();if(b)throw b;l.value=_.id,console.log("✅ 새 진행 상황 생성:",l.value)}catch(_){console.error("진행 상황 생성 실패:",_)}},d=_=>{i.value[n.value]=_},m=()=>{n.value<r.value.length-1&&n.value++},w=()=>{n.value>0&&n.value--},S=async()=>{const _=i.value.filter(b=>b===null).length;if(!(_>0&&!confirm(`${_}개 문제를 풀지 않았습니다.
제출하시겠습니까?`))){a.value=!0;try{let b=0;const k=[],C={};i.value.forEach((re,Se)=>{const me=r.value[Se],Te=me.category;if(C[Te]||(C[Te]={total:0,correct:0}),C[Te].total++,re===me.correct_answer)b++,C[Te].correct++;else if(re!==null){const wt=[me.option_a,me.option_b,me.option_c,me.option_d];k.push({number:Se+1,question:me.question,category:me.category,studentAnswer:wt[re],correctAnswer:wt[me.correct_answer]})}});const L=Math.round(b/r.value.length*100),q=await E(L,k,C),{data:G,error:F}=await ft.from("test_results").insert({student_id:s.student.id,score:L,answers:i.value,ai_analysis:q}).select().single();if(F)throw F;l.value&&await ft.from("test_progress").delete().eq("id",l.value),e.push(`/result/${G.id}`)}catch(b){console.error("제출 에러:",b),alert("제출 중 오류가 발생했습니다: "+b.message)}finally{a.value=!1}}},E=async(_,b,k)=>{try{const C=new on({apiKey:"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",dangerouslyAllowBrowser:!0}),L=Object.entries(k).map(([F,re])=>{const Se=Math.round(re.correct/re.total*100);return`${F}: ${re.correct}/${re.total} (${Se}%)`}).join(`
`),q=`
고등학생의 AI·디지털 역량 진단 평가 결과를 분석해주세요.

**전체 점수:** ${_}점 / 100점
**정답 수:** ${30-b.length}개 / 30개

**영역별 성적:**
${L}

**틀린 문제 (${b.length}개):**
${b.map(F=>`
- 문제 ${F.number}: ${F.question}
  학생 답변: ${F.studentAnswer}
  정답: ${F.correctAnswer}
`).join(`
`)}

다음 형식으로 분석해주세요:
1. 전체 평가 (3-4문장)
2. 영역별 분석
3. 강점 (2-3개)
4. 보완 필요 부분 (2-3개)
5. 학습 추천 (3-4개)

친근하고 격려하는 톤으로 작성해주세요.
`;return(await C.messages.create({model:"claude-sonnet-4-20250514",max_tokens:2e3,messages:[{role:"user",content:q}]})).content[0].text}catch(C){console.error("AI 분석 실패:",C);let L=`총점: ${_}점

`;return _>=90?L+="🌟 우수: 매우 뛰어난 실력입니다!":_>=80?L+="😊 양호: 잘 하고 있습니다!":_>=70?L+="👍 보통: 기본기는 탄탄합니다.":_>=60?L+="💪 노력 필요: 조금만 더 학습하면 좋을 것 같아요.":L+="📚 기초부터: 천천히 다시 학습해보세요.",L}};return(_,b)=>(we(),ke("div",Mw,[j("div",Lw,[j("h2",null,fe(Ss(s).student?.name)+"님의 테스트",1),j("div",Dw," 문제 "+fe(n.value+1)+" / "+fe(r.value.length),1)]),o.value?(we(),ke("div",Uw,[...b[0]||(b[0]=[j("div",{class:"spinner"},null,-1),j("p",null,"문제를 불러오는 중...",-1)])])):u.value?(we(),ke("div",Bw,[j("div",qw,"문제 "+fe(n.value+1),1),j("h3",Fw,fe(u.value.question),1),j("div",Ww,[(we(!0),ke(pt,null,cu(u.value.options,(k,C)=>(we(),ke("button",{key:C,class:Qr({selected:i.value[n.value]===C}),onClick:L=>d(C)},[j("span",Hw,fe(C+1),1),j("span",Kw,fe(k),1)],10,Vw))),128))])])):Vr("",!0),j("div",Gw,[j("button",{onClick:w,disabled:n.value===0,class:"nav-btn"}," ← 이전 ",8,Jw),n.value<r.value.length-1?(we(),ke("button",{key:0,onClick:m,class:"nav-btn next"}," 다음 → ")):(we(),ke("button",{key:1,onClick:S,disabled:a.value,class:"submit-btn"},fe(a.value?"분석 중...":"채점하기"),9,zw))]),o.value?Vr("",!0):(we(),ke("div",Xw," 💾 자동 저장됨 - 나갔다 들어와도 이어서 풀 수 있어요 "))]))}},Yw=tn(Qw,[["__scopeId","data-v-5f83cdfe"]]),Zw={class:"result-container"},eb={key:0,class:"loading"},tb={key:1,class:"result-card"},sb={class:"score-section"},rb={class:"score-circle"},nb={class:"score"},ib={class:"info-box"},ob={class:"analysis-box"},ab={class:"analysis-text"},lb={__name:"ResultView",setup(t){const e=gm(),s=fa(),r=be(null),n=be(""),i=be(!0);pi(async()=>{const{data:c}=await ft.from("test_results").select(`
      *,
      students (name)
    `).eq("id",e.params.id).single();r.value=c,n.value=c.students.name,i.value=!1});const o=c=>new Date(c).toLocaleString("ko-KR"),a=()=>{s.push("/")},l=()=>{window.print()};return(c,u)=>(we(),ke("div",Zw,[i.value?(we(),ke("div",eb,"결과를 불러오는 중...")):r.value?(we(),ke("div",tb,[u[4]||(u[4]=j("h1",null,"🎉 테스트 완료!",-1)),j("div",sb,[j("div",rb,[j("div",nb,fe(r.value.score),1),u[0]||(u[0]=j("div",{class:"label"},"점",-1))])]),j("div",ib,[j("p",null,[u[1]||(u[1]=j("strong",null,"이름:",-1)),zs(" "+fe(n.value),1)]),j("p",null,[u[2]||(u[2]=j("strong",null,"제출 시간:",-1)),zs(" "+fe(o(r.value.created_at)),1)])]),j("div",ob,[u[3]||(u[3]=j("h3",null,"📊 AI 분석 결과",-1)),j("pre",ab,fe(r.value.ai_analysis),1)]),j("div",{class:"actions"},[j("button",{onClick:a,class:"btn-primary"},"처음으로"),j("button",{onClick:l,class:"btn-secondary"},"결과 출력")])])):Vr("",!0)]))}},cb=tn(lb,[["__scopeId","data-v-2ed7e195"]]),ub={class:"admin-container"},hb={class:"stats-grid"},db={class:"stat-card"},fb={class:"stat-value"},pb={class:"stat-card"},gb={class:"stat-value"},mb={class:"stat-card"},_b={class:"stat-value"},yb={class:"stat-card"},wb={class:"stat-value"},bb={key:0,class:"loading"},vb={key:1,class:"table-container"},Sb={class:"rank"},Eb={class:"name"},kb={class:"score"},Ob={class:"date"},Rb={class:"analysis"},Tb=["onClick"],Ab={key:2,class:"empty"},xb={class:"modal-score"},Pb={class:"modal-analysis"},Cb={__name:"AdminView",setup(t){const e=be([]),s=be(!0),r=be(null),n=Me(()=>{if(e.value.length===0)return 0;const h=e.value.reduce((f,d)=>f+d.score,0);return Math.round(h/e.value.length)}),i=Me(()=>e.value.length===0?0:Math.max(...e.value.map(h=>h.score))),o=Me(()=>e.value.length===0?0:Math.min(...e.value.map(h=>h.score)));pi(async()=>{const{data:h}=await ft.from("test_results").select(`
      *,
      students (name)
    `).order("score",{ascending:!1});e.value=h.map(f=>({...f,student_name:f.students.name})),s.value=!1});const a=h=>new Date(h).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),l=h=>h>=90?"excellent":h>=70?"good":h>=50?"average":"poor",c=h=>{r.value=h},u=()=>{r.value=null};return(h,f)=>(we(),ke("div",ub,[f[6]||(f[6]=j("div",{class:"header"},[j("h1",null,"📊 관리자 페이지"),j("a",{href:"/",class:"back-link"},"← 돌아가기")],-1)),j("div",hb,[j("div",db,[j("div",fb,fe(e.value.length),1),f[1]||(f[1]=j("div",{class:"stat-label"},"총 응시자",-1))]),j("div",pb,[j("div",gb,fe(n.value),1),f[2]||(f[2]=j("div",{class:"stat-label"},"평균 점수",-1))]),j("div",mb,[j("div",_b,fe(i.value),1),f[3]||(f[3]=j("div",{class:"stat-label"},"최고 점수",-1))]),j("div",yb,[j("div",wb,fe(o.value),1),f[4]||(f[4]=j("div",{class:"stat-label"},"최저 점수",-1))])]),s.value?(we(),ke("div",bb,"데이터를 불러오는 중...")):e.value.length>0?(we(),ke("div",vb,[j("table",null,[f[5]||(f[5]=j("thead",null,[j("tr",null,[j("th",null,"순위"),j("th",null,"이름"),j("th",null,"점수"),j("th",null,"제출 시간"),j("th",null,"AI 분석")])],-1)),j("tbody",null,[(we(!0),ke(pt,null,cu(e.value,(d,m)=>(we(),ke("tr",{key:d.id},[j("td",Sb,fe(m+1),1),j("td",Eb,fe(d.student_name),1),j("td",kb,[j("span",{class:Qr(["score-badge",l(d.score)])},fe(d.score)+"점 ",3)]),j("td",Ob,fe(a(d.created_at)),1),j("td",Rb,[j("button",{onClick:w=>c(d),class:"view-btn"}," 보기 ",8,Tb)])]))),128))])])])):(we(),ke("div",Ab," 아직 제출된 결과가 없습니다. ")),r.value?(we(),ke("div",{key:3,class:"modal",onClick:u},[j("div",{class:"modal-content",onClick:f[0]||(f[0]=Nu(()=>{},["stop"]))},[j("button",{class:"close-btn",onClick:u},"×"),j("h3",null,fe(r.value.student_name)+"님의 AI 분석",1),j("div",xb,"점수: "+fe(r.value.score)+"점",1),j("pre",Pb,fe(r.value.ai_analysis),1)])])):Vr("",!0)]))}},Ib=tn(Cb,[["__scopeId","data-v-bf32285d"]]),kd=pm({history:Kg("/"),routes:[{path:"/",name:"login",component:Xy},{path:"/test",name:"test",component:Yw,meta:{requiresAuth:!0}},{path:"/result/:id",name:"result",component:cb,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:Ib}]});kd.beforeEach((t,e,s)=>{const r=Ea();r.restoreSession(),t.meta.requiresAuth&&!r.isAuthenticated?s("/"):s()});const Pa=Xp(lg);Pa.use(Zp());Pa.use(kd);Pa.mount("#app");
